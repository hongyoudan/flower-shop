webpackJsonp([29],{YcKn:function(t,e){},n2RZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"ProductReview",components:{MallFooter:s("loKF").a},data:function(){return{keyword:"",productInfo:null,productReview:null}},methods:{errorHandler:function(){return!0},toBuy:function(){this.$router.push({path:"/MallPurchase",query:{id:this.productInfo.productId}})},reqInfo:function(){var t=this,e=this.$loading({lock:!0,text:"数据加载中",background:"rgba(255,255,255,0.1)"});this.$http.post("/product/findByKey?productNo="+this.keyword).then(function(s){e.close(),200===s.data.code&&(t.productInfo=s.data.data)}).catch(function(s){e.close(),t.$msg.error(s)}),this.$http.post("/productReview/findAll?productNo="+this.keyword).then(function(s){e.close(),200===s.data.code&&(t.productReview=s.data.data)}).catch(function(s){e.close(),t.$msg.error(s)})}},created:function(){this.keyword=this.$route.query.keyword,this.reqInfo()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-review"},[s("div",{staticClass:"product-box"},[s("div",{staticClass:"nav-bar"},[t.productInfo?s("div",{staticClass:"container"},[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/MallHome",title:"花卷官网"}},[s("el-image",{staticClass:"logo",staticStyle:{width:"65px",height:"65px","margin-top":"10px","margin-right":"15px"},attrs:{src:t.productInfo.productUrl}})],1),t._v(" "),s("div",{staticStyle:{display:"inline-block",position:"absolute",top:"35px"}},[s("span",{staticStyle:{"font-size":"19px","font-weight":"bolder"}},[t._v(t._s(t.productInfo.productName))]),t._v(" "),s("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),s("span",{staticStyle:{"font-size":"18px","font-weight":"bolder"}},[t._v(t._s(t.productInfo.productType))])],1),t._v(" "),s("el-button",{staticStyle:{position:"absolute",right:"0",top:"28px"},attrs:{round:"",plain:""},on:{click:t.toBuy}},[t._v("立即购买")])],1):t._e()])]),t._v(" "),s("div",{staticClass:"page-main"},[s("div",{staticClass:"review-box"},[s("h2",{staticClass:"title"},[t._v("热门评价")]),t._v(" "),t.productReview&&0!==t.productReview.length?s("div",{staticClass:"review-content"},t._l(t.productReview,function(e){return s("div",{key:e.reviewId,staticClass:"review-item"},[s("div",{staticClass:"user-info"},[s("el-avatar",{staticClass:"user-avatar",attrs:{size:50,src:e.avatarUrl},on:{error:t.errorHandler}},[s("img",{attrs:{src:"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/avat.gif",alt:"默认头像"}})]),t._v(" "),s("span",{staticClass:"user-name"},[t._v("\n              "+t._s(e.userName)+"\n            ")]),t._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"review-time"},[t._v("\n               "+t._s(e.reviewTime)+"\n              ")]),t._v(" "),e.productSpecs?s("span",[s("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),s("span",{staticClass:"product-specs"},[t._v("\n                  商品规格："+t._s(e.productSpecs)+"\n                ")])],1):t._e()]),t._v(" "),s("div",{staticClass:"star-level"},[s("el-rate",{attrs:{"show-text":"",disabled:"","text-color":"#ff9900"},model:{value:e.starLevel,callback:function(s){t.$set(e,"starLevel",s)},expression:"review.starLevel"}})],1)],1),t._v(" "),s("div",{staticClass:"review-info"},[s("p",[t._v("\n              "+t._s(e.productReview)+"\n            ")])])])}),0):s("div",{staticClass:"empty-review"},[s("h2",[t._v("\n          该商品还没有人评价哦！\n        ")]),t._v(" "),s("el-button",{attrs:{type:"success"},on:{click:t.toBuy}},[t._v("返回购买")])],1)])]),t._v(" "),s("MallFooter")],1)},staticRenderFns:[]};var r=s("VU/8")(i,a,!1,function(t){s("YcKn")},null,null);e.default=r.exports}});
//# sourceMappingURL=29.e828c4b34e73b13d556c.js.map