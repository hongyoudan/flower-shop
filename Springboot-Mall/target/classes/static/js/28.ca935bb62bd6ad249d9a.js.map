{"version":3,"sources":["webpack:///src/components/product/ProductSpecs.vue","webpack:///./src/components/product/ProductSpecs.vue?ce66","webpack:///./src/components/product/ProductSpecs.vue"],"names":["product_ProductSpecs","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","staticStyle","text-align","slot","_v","right","type","on","click","$event","queryProductSpecs","resetForm","ref","model","productSpecsForm","inline","label","prop","clearable","placeholder","nativeOn","keyup","indexOf","_k","keyCode","key","value","callback","$$v","$set","expression","position","addBrand","width","data","productSpecs","height","border","align","min-width","scopedSlots","_u","fn","scope","margin","size","openChange","$index","deleteBrand","title","close-on-click-modal","top","visible","dialogFormVisible","center","update:visible","rules","alterRules","alterForm","filterable","_l","item","padding","submitChange","cancelChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","name","productSpecsResource","productType","handleIndex","insert","specsId","specsName","required","message","trigger","min","max","methods","formName","$refs","resetFields","length","i","len","push","index","rows","_this","$confirm","confirmButtonText","cancelButtonText","then","loading","$loading","lock","text","background","$http","post","rep","close","code","splice","reqInfo","$notify","catch","err","$msg","error","_this2","validate","valid","$alert","$qs","stringify","skipNulls","clearValidate","_this3","created","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/28.ca935bb62bd6ad249d9a.js","sourcesContent":["<template>\r\n  <div class=\"product-specs\">\r\n    <el-card class=\"product-hd\" shadow=\"never\">\r\n      <div slot=\"header\" style=\"text-align: left;\">\r\n        <i class=\"el-icon-search\"/>\r\n        <span>筛选搜索</span>\r\n        <el-button class=\"el-button-search\" style=\"right: 111px\" type=\"primary\" @click=\"queryProductSpecs()\">查询</el-button>\r\n        <el-button class=\"el-button-search\" style=\"right: 20px\" @click=\"resetForm('productSpecsForm')\">重置</el-button>\r\n      </div>\r\n      <el-form :model=\"productSpecsForm\" ref=\"productSpecsForm\" inline class=\"query-form\">\r\n        <el-form-item label=\"输入搜索：\" prop=\"key\">\r\n          <el-input v-model=\"productSpecsForm.key\" @keyup.enter.native=\"queryProductSpecs\" clearable placeholder=\"商品类别/规格类型\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    <el-card class=\"product-specs-box\" shadow=\"never\">\r\n      <div slot=\"header\" style=\"text-align: left;position: relative\">\r\n        <i class=\"el-icon-coin\"/>\r\n        <span>数据列表</span>\r\n        <el-button class=\"el-button-add\" @click=\"addBrand\">添加</el-button>\r\n      </div>\r\n      <el-table :data=\"productSpecs\" class=\"type-table\" height=\"425\"  border style=\"width: 100%\">\r\n        <el-table-column prop=\"specsId\" label=\"编号\" width=\"170\"></el-table-column>\r\n        <el-table-column prop=\"productType\" label=\"商品类型\" width=\"500\"></el-table-column>\r\n        <el-table-column prop=\"specsName\" label=\"规格类型\" width=\"450\"></el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\" min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" style=\"margin: 0 2%\" @click=\"openChange(scope.$index)\">编辑</el-button>\r\n            <el-button size=\"mini\" style=\"margin: 0 2%\" type=\"danger\" slot=\"reference\" @click=\"deleteBrand(scope.$index, productSpecs)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n    <el-dialog title=\"编辑商品规格信息\" class=\"chang-specs\" :close-on-click-modal=\"false\" top=\"30vh\" width=\"500px\" :visible.sync=\"dialogFormVisible\" center>\r\n      <el-form class=\"info-form\" inline :rules=\"alterRules\" :model=\"alterForm\" ref='changeFrom'>\r\n        <el-form-item label=\"商品类型：\" prop=\"productType\" style=\"width: 100%\">\r\n          <el-select v-model=\"alterForm.productType\" filterable placeholder=\"全部\" clearable>\r\n            <el-option v-for=\"item in productType\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"规格类型：\" prop=\"specsName\" style=\"width: 100%\">\r\n          <el-input size=\"small\" v-model=\"alterForm.specsName\" placeholder=\"规格类型\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" style=\"padding: 12px 33px;margin: 0 25px;\" @click=\"submitChange('changeFrom')\">确 定</el-button>\r\n        <el-button style=\"padding: 12px 33px;margin: 0 25px;\" @click=\"cancelChange('changeFrom')\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n      name: \"ProductSpecs\",\r\n    data(){\r\n      return{\r\n        productSpecs:null,\r\n        productSpecsResource:null,\r\n        productType:null,\r\n        handleIndex:0,\r\n        dialogFormVisible:false,\r\n        insert:false,   //插入时的标志\r\n        productSpecsForm:{\r\n          key:''\r\n        },\r\n        alterForm:{\r\n          specsId:'',\r\n          productType:'',\r\n          specsName:'',\r\n        },\r\n        alterRules:{\r\n          productType: [{ required: true, message: '请选择商品类型', trigger: 'blur' }],\r\n          specsName: [{ required: true, message: '请输入规格类型', trigger: 'blur' },\r\n            { min: 1, max: 30, message: '规格类型长度不允许超过 30 个字符', trigger: 'blur' }]\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n      queryProductSpecs(){\r\n        if(this.productSpecsForm.key.length!==0){\r\n          this.productSpecs=[];\r\n          for(let i=0,len=this.productSpecsResource.length;i<len;i++){\r\n            if(this.productSpecsResource[i].productType.indexOf(this.productSpecsForm.key)!==-1){\r\n              this.productSpecs.push(this.productSpecsResource[i]);\r\n            } else if(this.productSpecsResource[i].specsName.indexOf(this.productSpecsForm.key)!==-1){\r\n              this.productSpecs.push(this.productSpecsResource[i]);\r\n            }\r\n          }\r\n        }else{\r\n          this.productSpecs = this.productSpecsResource;\r\n        }\r\n      },\r\n      openChange(index){\r\n        this.handleIndex=index;\r\n        this.insert=false;\r\n        this.alterForm.specsId = this.productSpecs[index].specsId;\r\n        this.alterForm.productType = this.productSpecs[index].productType;\r\n        this.alterForm.specsName = this.productSpecs[index].specsName;\r\n        this.dialogFormVisible=true;\r\n      },\r\n      //删除类别操作\r\n      deleteBrand(index, rows){\r\n        let name = this.productSpecs[index].specsName;\r\n        this.$confirm('此操作将永久删除该商品规格信息, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let loading = this.$loading({lock: true, text: \"数据提交中\",background:\"rgba(255,255,255,0.1)\"});\r\n          this.$http.post('/specs/delete?specsId='+this.productSpecs[index].specsId).then((rep)=>{\r\n            loading.close();\r\n            if(rep.data.code === 200){\r\n              rows.splice(index, 1);//删掉该行\r\n              this.reqInfo();\r\n              this.$notify({title: '成功', message: '商品规格('+name+')\\t移除成功', type: 'success'});\r\n            }else{\r\n              this.$notify({title: '错误', message: '商品规格('+name+')\\t移除失败', type: 'error'});\r\n            }\r\n          }).catch((err)=>{\r\n            loading.close();\r\n            this.$msg.error(err);\r\n          })\r\n        }).catch(() => {\r\n          this.$notify({title: '成功', message: '操作取消', type: 'success'});\r\n        });\r\n      },\r\n      addBrand(){\r\n        this.alterForm.specsId=null;\r\n        this.alterForm.productType='';\r\n        this.alterForm.specsName='';\r\n        this.insert=true;\r\n        this.dialogFormVisible=true;\r\n      },\r\n      submitChange(formName){\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if(this.insert){\r\n              this.$http.post('/specs/existsSpecsName?specsId=0&productType='+this.alterForm.productType+'&specsName='+this.alterForm.specsName).then((rep)=>{\r\n                if(rep.data.code===200){\r\n                  if(rep.data.data){\r\n                    this.$alert('品牌('+this.alterForm.productType+')\\t已存在，不能重复添加', '警告', {confirmButtonText: '确定', type:\"warning\"});\r\n                  }else{\r\n                    let loading = this.$loading({lock: true, text: \"数据提交中\",background:\"rgba(255,255,255,0.1)\"});\r\n                    this.$http.post('/specs/add',this.$qs.stringify(this.alterForm, { skipNulls: true })).then((rep)=>{\r\n                      loading.close();\r\n                      if(rep.data.code===200){\r\n                        this.dialogFormVisible=false;\r\n                        this.reqInfo();\r\n                        this.$notify({title: '成功', message: '商品规格('+this.alterForm.specsName+')\\t添加成功', type: 'success'});\r\n                      }else{\r\n                        this.$notify({title: '错误', message: '商品规格('+this.alterForm.specsName+')\\t添加失败', type: 'error'});\r\n                      }\r\n                    }).catch((err)=>{loading.close();this.$msg.error(err)})\r\n                  }\r\n                }\r\n              }).catch((err)=>{this.$msg.error(err)})\r\n            }else{\r\n              this.$http.post('/specs/existsSpecsName?specsId='+this.alterForm.specsId+'&productType='+this.alterForm.productType+'&specsName='+this.alterForm.specsName).then((rep)=> {\r\n                if (rep.data.code === 200) {\r\n                  if (rep.data.data) {\r\n                    this.$alert('商品规格('+this.alterForm.productType + ')\\t已存在，无法完成修改操作', '警告', {\r\n                      confirmButtonText: '确定',\r\n                      type: \"warning\"\r\n                    });\r\n                  } else {\r\n                    let loading = this.$loading({lock: true, text: \"数据提交中\",background:\"rgba(255,255,255,0.1)\"});\r\n                    this.$http.post('/specs/update', this.$qs.stringify(this.alterForm, { skipNulls: true })).then((rep) => {\r\n                      loading.close();\r\n                      if (rep.data.code === 200) {\r\n                        this.dialogFormVisible = false;\r\n                        this.reqInfo()\r\n                        this.$notify({title: '成功', message: '商品规格更新成功', type: 'success'});\r\n                      } else {\r\n                        this.$notify({title: '错误', message: '商品规格更新失败', type: 'error'});\r\n                      }\r\n                    }).catch((err) => {\r\n                      loading.close();\r\n                      this.$msg.error(err)\r\n                    })\r\n                  }\r\n                }\r\n              }).catch((err)=>{this.$msg.error(err)})\r\n            }\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      cancelChange(formName){\r\n        this.dialogFormVisible=false;\r\n        this.$refs[formName].clearValidate();\r\n        this.$notify({title: '操作取消', message: '', type: 'success'});\r\n      },\r\n      reqInfo(){\r\n        this.$http.post('/specs/findAll').then((rep)=>{\r\n          if(rep.data.code===200){\r\n            this.productSpecsResource=this.productSpecs=rep.data.data;\r\n          }\r\n        }).catch((err)=>{this.$msg.error(err)})\r\n        this.$http.post('/productType/findAllName').then((rep)=>{\r\n          if(rep.data.code===200){\r\n            this.productType=rep.data.data;\r\n          }\r\n        }).catch((err)=>{this.$msg.error(err)})\r\n      }\r\n    },\r\n    created() {\r\n      this.reqInfo();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n.product-specs{\r\n  margin: 0;\r\n  padding: 0;\r\n  min-height: 94%;\r\n  user-select: none;\r\n  min-width: 1226px;\r\n}\r\n.product-specs .product-hd{\r\n  height: 138px;\r\n  margin: 30px auto 10px;\r\n  width: 95%;\r\n}\r\n\r\n.product-specs .product-hd .el-card__header{\r\n  position: relative;\r\n}\r\n\r\n\r\n.product-specs .info-box{\r\n  height: 600px;\r\n  border:1px solid #EBEEF5;\r\n}\r\n\r\n.product-specs .product-hd .el-button-search{\r\n  position: absolute;\r\n  top: 14px;\r\n  padding: 3px 0;\r\n  width: 70px;\r\n  height: 30px;\r\n}\r\n\r\n.product-specs .query-form{\r\n  text-align: left;\r\n}\r\n.product-specs .product-specs-box{\r\n  height: 530px;\r\n  margin: 20px auto 10px;\r\n  width: 95%;\r\n}\r\n\r\n.product-specs .product-specs-box th,.product-specs .product-specs-box td{\r\n  text-align: center;\r\n}\r\n\r\n.product-specs .el-table th.gutter{\r\n  display: table-cell!important;\r\n}\r\n\r\n.product-specs .info-form{\r\n  position: relative;\r\n}\r\n\r\n.product-specs .el-upload-dragger{\r\n  width: 200px;\r\n  height: 100px;\r\n}\r\n\r\n.product-specs .el-dialog .el-input__inner{\r\n  width: 300px!important;\r\n}\r\n\r\n\r\n.product-specs .product-specs-box .el-button-add{\r\n  position: absolute;\r\n  right: 32px;\r\n  top: -5px;\r\n  padding: 3px 0;\r\n  width: 80px;\r\n  height: 32px;\r\n}\r\n\r\n.product-specs .avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 102px;\r\n  line-height: 102px;\r\n  text-align: center;\r\n}\r\n\r\n.product-specs .type-table{\r\n  user-select: text;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/product/ProductSpecs.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-specs\"},[_c('el-card',{staticClass:\"product-hd\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"el-button-search\",staticStyle:{\"right\":\"111px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.queryProductSpecs()}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"el-button-search\",staticStyle:{\"right\":\"20px\"},on:{\"click\":function($event){return _vm.resetForm('productSpecsForm')}}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('el-form',{ref:\"productSpecsForm\",staticClass:\"query-form\",attrs:{\"model\":_vm.productSpecsForm,\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"输入搜索：\",\"prop\":\"key\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"商品类别/规格类型\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.queryProductSpecs($event)}},model:{value:(_vm.productSpecsForm.key),callback:function ($$v) {_vm.$set(_vm.productSpecsForm, \"key\", $$v)},expression:\"productSpecsForm.key\"}})],1)],1)],1),_vm._v(\" \"),_c('el-card',{staticClass:\"product-specs-box\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticStyle:{\"text-align\":\"left\",\"position\":\"relative\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"el-icon-coin\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"el-button-add\",on:{\"click\":_vm.addBrand}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-table',{staticClass:\"type-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.productSpecs,\"height\":\"425\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"specsId\",\"label\":\"编号\",\"width\":\"170\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productType\",\"label\":\"商品类型\",\"width\":\"500\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specsName\",\"label\":\"规格类型\",\"width\":\"450\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"margin\":\"0 2%\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.openChange(scope.$index)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"0 2%\"},attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteBrand(scope.$index, _vm.productSpecs)}},slot:\"reference\"},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"chang-specs\",attrs:{\"title\":\"编辑商品规格信息\",\"close-on-click-modal\":false,\"top\":\"30vh\",\"width\":\"500px\",\"visible\":_vm.dialogFormVisible,\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"changeFrom\",staticClass:\"info-form\",attrs:{\"inline\":\"\",\"rules\":_vm.alterRules,\"model\":_vm.alterForm}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"商品类型：\",\"prop\":\"productType\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"全部\",\"clearable\":\"\"},model:{value:(_vm.alterForm.productType),callback:function ($$v) {_vm.$set(_vm.alterForm, \"productType\", $$v)},expression:\"alterForm.productType\"}},_vm._l((_vm.productType),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"规格类型：\",\"prop\":\"specsName\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"规格类型\"},model:{value:(_vm.alterForm.specsName),callback:function ($$v) {_vm.$set(_vm.alterForm, \"specsName\", $$v)},expression:\"alterForm.specsName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"padding\":\"12px 33px\",\"margin\":\"0 25px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitChange('changeFrom')}}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"padding\":\"12px 33px\",\"margin\":\"0 25px\"},on:{\"click\":function($event){return _vm.cancelChange('changeFrom')}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05952f7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/product/ProductSpecs.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05952f7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductSpecs.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductSpecs.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductSpecs.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05952f7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductSpecs.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product/ProductSpecs.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}