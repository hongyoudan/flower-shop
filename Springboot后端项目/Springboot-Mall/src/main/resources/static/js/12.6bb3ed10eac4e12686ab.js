webpackJsonp([12],{"5pVM":function(e,t){},nqId:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"MyOrder",components:{MallFooter:r("loKF").a},data:function(){return{receiver:"花卷",receiverTel:"400-626-1123",receiverAdd:"河北师范大学",serviceVisible:!1,Parcel:["花卷物流","邮政快递","中通快递","圆通快递","百世快递"],activeIndex:"",queryProductInfo:"",returnReasonName:"",returnFormVisible:!1,dialogFormVisible:!1,reviewFormVisible:!1,select:"1",activeName:"first",productType:[],productBrand:[],orderData:[],unpaidData:[],unshippedData:[],unreceivedData:[],returnGoods:{userNumber:"",userName:"",returnPrice:"",orderNo:"",operatorNumber:"N/A",operatorName:"N/A",returnReason:""},returnFrom:{returnReason:""},returnRules:{returnReason:[{required:!0,message:"请选择退货原因",trigger:"blur"}]},reviewFrom:{productNo:"",orderNo:"",productName:"",productSpecs:null,starLevel:null,productReview:""},reviewRules:{starLevel:[{validator:function(e,t,r){null===t||0===t?r(new Error("请选择评分")):r()},trigger:"blur"}],productReview:[{required:!0,message:"请填写商品评价",trigger:"blur"},{min:1,max:300,message:"评价内容在 1~300 个字以内",trigger:"blur"}]},colors:["#99A9BF","#F7BA2A","#FF9900"],productReview:{accountNumber:"",productNo:"",productSpecs:"",orderNo:"",starLevel:0,productReview:""},alterForm:{orderNo:"",receiver:"",receiverTel:"",receiverAdd:"",sender:"",senderTel:"",senderAdd:"",parcelName:"花卷物流"},alterRules:{parcelName:[{required:!0,message:"请选择物流公司",trigger:"blur"}],receiver:[{required:!0,message:"请填写收货人",trigger:"blur"},{min:1,max:30,message:"名称长度不允许超过 30 个字符",trigger:"blur"}],receiverTel:[{required:!0,message:"请填写收货人联系方式",trigger:"blur"},{min:1,max:12,message:"请填写正确的联系方式",trigger:"blur"}],receiverAdd:[{required:!0,message:"请填写收货人地址",trigger:"blur"},{min:1,max:30,message:"地址不允许超过30个字符",trigger:"blur"}],sender:[{required:!0,message:"请填写收货人",trigger:"blur"},{min:1,max:30,message:"名称长度不允许超过 30 个字符",trigger:"blur"}],senderTel:[{required:!0,message:"请填写收货人联系方式",trigger:"blur"},{min:1,max:11,message:"请填写正确的联系方式",trigger:"blur"}],senderAdd:[{required:!0,message:"请填写收货人地址",trigger:"blur"},{min:1,max:30,message:"地址不允许超过30个字符",trigger:"blur"}]}}},methods:{isTimeOut:function(e){return new Date(e).getTime()+864e5-new Date<=0},changeTime:function(e){var t=new Date(e).getTime()+864e5-new Date;if(t<=0)return"订单24小时内未支付,稍后将被系统自动回收";var r=Math.floor(t/36e5),o=Math.floor((t-36e5*r)/6e4);return r>0?"等待买家付款，剩余"+r+"小时"+o+"分钟后自动取消订单":o>0?"等待买家付款，剩余"+o+"分钟后自动取消订单":void 0},handleSelect:function(e,t){},handleClick:function(e,t){},queryProduct:function(e,t){if(void 0===t)switch(this.select){case"1":t="name";break;case"2":t="type";break;case"3":t="brand"}this.$router.push({path:"/MallProduct",query:{keyword:e,by:t}})},cancelOrder:function(e,t){var r=this;this.isTimeOut(t)?this.$alert("订单已超时，系统后续将会自动回收，无法操作","提示",{confirmButtonText:"确认",type:"info"}):this.$confirm("订单将被取消, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=r.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.2)"});r.$http.get("/order/delete?orderId="+e).then(function(e){t.close(),200===e.data.code?r.$notify({title:"成功",message:"订单已取消",type:"success"}):r.$notify.error({title:"错误",message:"订单取消失败"}),r.reqInfo()}).catch(function(e){t.close(),r.$msg.error(e)})}).catch(function(){})},payment:function(e,t,r,o,a){var l=this;if(this.isTimeOut(t))this.$alert("订单已超时，系统后续将会自动回收，无法操作","提示",{confirmButtonText:"确认",type:"info"});else{var s="花卷商城-"+a+"-"+r+"支付订单",i=this.$loading({lock:!0,text:"正在跳转支付页面",background:"rgba(255,255,255,0.1)"});this.$http.post("/alipay/create?orderNo="+e+"&orderName="+s+"&payPrice="+o).then(function(e){i.close();var t=document.createElement("div");t.innerHTML=e.data,document.body.appendChild(t),document.forms[document.forms.length-1].submit()}).catch(function(e){i.close(),l.$msg.error(e)})}},review:function(e,t,r,o){this.reviewFrom.productName=r,this.reviewFrom.productNo=t,this.reviewFrom.orderNo=e,this.reviewFrom.productSpecs=null,this.reviewFrom.starLevel=null,this.reviewFrom.productReview="",void 0!==o&&(this.reviewFrom.productSpecs=o),this.reviewFormVisible=!0},cancelReview:function(e){this.reviewFormVisible=!1,this.$refs[e].resetFields()},applyReturn:function(e,t,r,o){var a=this;this.$http.post("/returnReason/findReasonName").then(function(e){200===e.data.code&&(a.returnReasonName=e.data.data)}).catch(function(e){a.$msg.error(e)}),this.returnGoods.userNumber=this.$store.state.user.accountNumber,this.returnGoods.userName=this.$store.state.user.userName,this.returnGoods.returnPrice=r,this.returnGoods.returnState="待发货"===o?"待退款":"待处理",this.returnGoods.orderNo=t,this.returnFormVisible=!0},submitReview:function(e){var t=this;this.$refs[e].validate(function(r){if(!r)return!1;t.productReview.accountNumber=t.$store.state.user.accountNumber,t.productReview.productNo=t.reviewFrom.productNo,t.productReview.productSpecs=t.reviewFrom.productSpecs,t.productReview.orderNo=t.reviewFrom.orderNo,t.productReview.starLevel=t.reviewFrom.starLevel,t.productReview.productReview=t.reviewFrom.productReview;var o=t.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.2)"});t.$http.post("/productReview/add",t.$qs.stringify(t.productReview,{skipNulls:!0})).then(function(r){o.close(),200===r.data.code?(t.reqInfo(),t.$notify({title:"成功",message:"商品评价提交成功",type:"success"}),t.reviewFormVisible=!1,t.$refs[e].resetFields()):t.$notify.error({title:"失败",message:"商品评价失败"})}).catch(function(e){o.close(),t.$msg.error(e)})})},submitReturnInfo:function(e){var t=this;this.$refs[e].validate(function(r){if(!r)return!1;t.returnGoods.returnReason=t.returnFrom.returnReason;var o=t.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.2)"});t.$http.post("/returnGoods/addReturn",t.$qs.stringify(t.returnGoods,{skipNulls:!0})).then(function(r){o.close(),200===r.data.code?(t.reqInfo(),t.$notify({title:"成功",message:"退货申请提交成功",type:"success"}),t.returnFormVisible=!1,t.$refs[e].resetFields()):t.$notify.error({title:"失败",message:"退货申请提交失败"})}).catch(function(e){o.close(),t.$msg.error(e)})})},receiveGoods:function(e){var t=this;this.$confirm("请收到商品并检查无误后，再确认收货","提示",{confirmButtonText:"已收到货",cancelButtonText:"未收到货",type:"success"}).then(function(){var r=t.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.2)"});t.$http.post("/order/receipt?orderId="+e).then(function(e){r.close(),200===e.data.code&&(t.reqInfo(),t.$notify({title:"成功",message:"收货成功",type:"success"}))}).catch(function(e){r.close(),t.$msg.error(e)})}).catch(function(){})},reqInfo:function(){var e=this,t=this.$loading({lock:!0,text:"数据加载中",background:"rgba(255,255,255,1)"});this.orderData.length=0,this.$http.post("/returnGoods/findReturnInfo?userNumber="+this.$store.state.user.accountNumber).then(function(t){200===t.data.code&&(e.orderData=e.orderData.concat(t.data.data))}).catch(function(t){e.$msg.error(t)}),this.$http.post("/productType/findAllName").then(function(t){200===t.data.code&&(e.productType=t.data.data)}).catch(function(t){e.$msg.error(t)}),this.$http.post("/productBrand/findAllName").then(function(t){200===t.data.code&&(e.productBrand=t.data.data)}).catch(function(t){e.$msg.error(t)}),this.$http.post("/order/findOrderInfo?userAccount="+this.$store.state.user.accountNumber).then(function(r){if(t.close(),200===r.data.code){e.unpaidData=[],e.unshippedData=[],e.unreceivedData=[],e.orderData=e.orderData.concat(r.data.data);for(var o=0,a=e.orderData.length;o<a;o++)switch(e.orderData[o].orderState){case"待付款":e.unpaidData.push(e.orderData[o]);break;case"待发货":e.unshippedData.push(e.orderData[o]);break;case"已发货":e.unreceivedData.push(e.orderData[o])}}}).catch(function(r){t.close(),e.$msg.error(r)})},sendBack:function(e){this.alterForm.orderNo=this.orderData[e].orderNo,this.alterForm.sender=this.orderData[e].userName,this.alterForm.senderTel=this.orderData[e].contactWay,this.alterForm.senderAdd=this.orderData[e].acceptAddress,this.alterForm.receiver=this.receiver,this.alterForm.receiverTel=this.receiverTel,this.alterForm.receiverAdd=this.receiverAdd,this.handleIndex=e,this.dialogFormVisible=!0},service:function(){this.serviceVisible=!0},submitInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=t.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.2)"});t.$http.post("/logistics/addInfo",t.$qs.stringify(t.alterForm)).then(function(e){if(200===e.data.code){var o=t.orderData[t.handleIndex].returnId;t.$http.post("/returnGoods/sendBack?returnId="+o).then(function(e){r.close(),200===e.data.code?(t.reqInfo(),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"物流信息更新成功",type:"success"})):t.$msg.error(e.data.message)}).catch(function(e){r.close(),t.$msg.error(e)})}else t.$msg.error(e.data.message)}).catch(function(e){t.$msg.error(e)})})},cancelChange:function(e){this.$refs[e].resetFields(),this.dialogFormVisible=!1}},created:function(){this.reqInfo()}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-order"},[r("div",{staticClass:"mall-nav"},[r("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,"collapse-transition":!1,"active-text-color":"#409EFF",mode:"horizontal"},on:{select:e.handleSelect}},[r("el-menu-item",{staticStyle:{width:"22%"},attrs:{index:"1"}},[r("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/MallHome"}},[r("el-image",{staticStyle:{width:"220px",height:"60px"},attrs:{src:"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/logo.png"}})],1)],1),e._v(" "),r("el-menu-item",{staticStyle:{width:"50%"},attrs:{index:"2"}},[r("el-input",{staticClass:"input-with-select",staticStyle:{height:"45px"},attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryProduct(e.queryProductInfo)}},model:{value:e.queryProductInfo,callback:function(t){e.queryProductInfo=t},expression:"queryProductInfo"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[r("el-option",{attrs:{label:"商品名称",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"商品分类",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"商品品牌",value:"3"}})],1),e._v(" "),r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.queryProduct(e.queryProductInfo)}},slot:"append"})],1)],1),e._v(" "),r("el-submenu",{staticStyle:{width:"10%"},attrs:{index:"3"}},[r("template",{slot:"title"},[e._v("商品分类")]),e._v(" "),e._l(e.productType,function(t,o){return r("el-menu-item",{key:"3-"+o,attrs:{index:"3-"+o},on:{click:function(r){return e.queryProduct(t,"type")}}},[e._v(e._s(t))])})],2),e._v(" "),r("el-submenu",{staticStyle:{width:"10%"},attrs:{index:"4"}},[r("template",{slot:"title"},[e._v("商品品牌")]),e._v(" "),e._l(e.productBrand,function(t,o){return r("el-menu-item",{key:"4-"+o,attrs:{index:"4-"+o},on:{click:function(r){return e.queryProduct(t,"brand")}}},[e._v(e._s(t))])})],2)],1)],1),e._v(" "),0!==this.orderData.length?r("div",{staticClass:"order-box"},[r("el-tabs",{staticClass:"order-list",attrs:{stretch:""},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"全部订单",name:"first"}},[r("el-table",{staticClass:"order-table",attrs:{data:e.orderData}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"product-form",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("span",[e._v(e._s(t.row.productName))])]),e._v(" "),t.row.productSpecs?r("el-form-item",{attrs:{label:"商品规格"}},[r("span",[e._v(e._s(t.row.productSpecs))])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"商品类别"}},[r("span",[e._v(e._s(t.row.productType))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品单价"}},[r("span",[e._v(e._s(t.row.outPrice))])]),e._v(" "),r("el-form-item",{attrs:{label:"购买数量"}},[r("span",[e._v(e._s(t.row.payAmount))])]),e._v(" "),r("el-form-item",{attrs:{label:" 收 货 人"}},[r("span",[e._v(e._s(t.row.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:" 联系方式"}},[r("span",[e._v(e._s(t.row.contactWay))])]),e._v(" "),r("el-form-item",{attrs:{label:"收货地址"}},[r("span",[e._v(e._s(t.row.acceptAddress))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品图片"}},[t.row.productUrl?r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.productUrl,fit:"fit"}}):e._e()],1),e._v(" "),"待付款"===t.row.orderState?r("el-form-item",[r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.changeTime(t.row.orderTime)))])]):e._e()],1)]}}],null,!1,1511705076)}),e._v(" "),r("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productNo",label:"商品编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderTime",label:"下单时间",align:"center",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payPrice",label:"付款金额",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payType",label:"支付方式",align:"center",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderState",align:"center",label:"订单状态",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["待付款"===t.row.orderState?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.payment(t.row.orderNo,t.row.orderTime,t.row.productName,t.row.payPrice,t.row.productType)}}},[e._v("商品付款")]):e._e(),e._v(" "),"已发货"===t.row.orderState?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.receiveGoods(t.row.orderId)}}},[e._v("确认收货")]):e._e(),e._v(" "),"已拒绝"===t.row.orderState?r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.service()}}},[e._v("联系客服")]):e._e(),e._v(" "),"待付款"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(r){return e.cancelOrder(t.row.orderId,t.row.orderTime)}},slot:"reference"},[e._v("取消订单")]):e._e(),e._v(" "),"待处理"===t.row.orderState?r("el-button",{attrs:{slot:"reference",disabled:"",size:"mini",type:"danger"},on:{click:function(e){}},slot:"reference"},[e._v("等待处理")]):e._e(),e._v(" "),"允许退货"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"primary"},on:{click:function(r){return e.sendBack(t.$index)}},slot:"reference"},[e._v("上门取件")]):e._e(),e._v(" "),"待收货"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",disabled:"",type:"warning"},slot:"reference"},[e._v("退货中")]):e._e(),e._v(" "),"退货完成"===t.row.orderState?r("el-button",{attrs:{size:"mini",disabled:"",type:"success"}},[e._v("退货完成")]):e._e(),e._v(" "),"已收货"===t.row.orderState?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.review(t.row.orderNo,t.row.productNo,t.row.productName,t.row.productSpecs)}}},[e._v("评价")]):e._e(),e._v(" "),"已发货"===t.row.orderState||"已收货"===t.row.orderState||"已评价"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(r){return e.applyReturn(t.row.orderId,t.row.orderNo,t.row.payPrice,t.row.orderState)}},slot:"reference"},[e._v("申请退货")]):e._e(),e._v(" "),"待发货"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"primary"},on:{click:function(r){return e.applyReturn(t.row.orderId,t.row.orderNo,t.row.payPrice,t.row.orderState)}},slot:"reference"},[e._v("申请退款")]):e._e()]}}],null,!1,3514755343)})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"待付款",name:"second"}},[r("el-table",{staticClass:"order-table",attrs:{data:e.unpaidData}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"product-form",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("span",[e._v(e._s(t.row.productName))])]),e._v(" "),t.row.productSpecs?r("el-form-item",{attrs:{label:"商品规格"}},[r("span",[e._v(e._s(t.row.productSpecs))])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"商品类别"}},[r("span",[e._v(e._s(t.row.productType))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品单价"}},[r("span",[e._v(e._s(t.row.outPrice))])]),e._v(" "),r("el-form-item",{attrs:{label:"购买数量"}},[r("span",[e._v(e._s(t.row.payAmount))])]),e._v(" "),r("el-form-item",{attrs:{label:" 收 货 人"}},[r("span",[e._v(e._s(t.row.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:" 联系方式"}},[r("span",[e._v(e._s(t.row.contactWay))])]),e._v(" "),r("el-form-item",{attrs:{label:"收货地址"}},[r("span",[e._v(e._s(t.row.acceptAddress))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品图片"}},[t.row.productUrl?r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.productUrl,fit:"fit"}}):e._e()],1),e._v(" "),r("el-form-item",[r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.changeTime(t.row.orderTime)))])])],1)]}}],null,!1,2419079336)}),e._v(" "),r("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productNo",label:"商品编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderTime",label:"下单时间",align:"center",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payPrice",label:"付款金额",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payType",label:"支付方式",align:"center",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderState",align:"center",label:"订单状态",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["待付款"===t.row.orderState?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.payment(t.row.orderNo,t.row.orderTime,t.row.productName,t.row.payPrice,t.row.productType)}}},[e._v("商品付款")]):e._e(),e._v(" "),"待付款"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(r){return e.cancelOrder(t.row.orderId,t.row.orderTime)}},slot:"reference"},[e._v("取消订单")]):e._e()]}}],null,!1,643037509)})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"待发货",name:"third"}},[r("el-table",{staticClass:"order-table",attrs:{data:e.unshippedData}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"product-form",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("span",[e._v(e._s(t.row.productName))])]),e._v(" "),t.row.productSpecs?r("el-form-item",{attrs:{label:"商品规格"}},[r("span",[e._v(e._s(t.row.productSpecs))])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"商品类别"}},[r("span",[e._v(e._s(t.row.productType))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品单价"}},[r("span",[e._v(e._s(t.row.outPrice))])]),e._v(" "),r("el-form-item",{attrs:{label:"购买数量"}},[r("span",[e._v(e._s(t.row.payAmount))])]),e._v(" "),r("el-form-item",{attrs:{label:" 收 货 人"}},[r("span",[e._v(e._s(t.row.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:" 联系方式"}},[r("span",[e._v(e._s(t.row.contactWay))])]),e._v(" "),r("el-form-item",{attrs:{label:"收货地址"}},[r("span",[e._v(e._s(t.row.acceptAddress))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品图片"}},[t.row.productUrl?r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.productUrl,fit:"fit"}}):e._e()],1)],1)]}}],null,!1,843809027)}),e._v(" "),r("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productNo",label:"商品编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderTime",label:"下单时间",align:"center",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payPrice",label:"付款金额",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payType",label:"支付方式",align:"center",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderState",align:"center",label:"订单状态",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["待发货"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"primary"},on:{click:function(r){return e.applyReturn(t.row.orderId,t.row.orderNo,t.row.payPrice,t.row.orderState)}},slot:"reference"},[e._v("申请退款")]):e._e()]}}],null,!1,3727438798)})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"待收货",name:"fourth"}},[r("el-table",{staticClass:"order-table",attrs:{data:e.unreceivedData}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"product-form",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("span",[e._v(e._s(t.row.productName))])]),e._v(" "),t.row.productSpecs?r("el-form-item",{attrs:{label:"商品规格"}},[r("span",[e._v(e._s(t.row.productSpecs))])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"商品类别"}},[r("span",[e._v(e._s(t.row.productType))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品单价"}},[r("span",[e._v(e._s(t.row.outPrice))])]),e._v(" "),r("el-form-item",{attrs:{label:"购买数量"}},[r("span",[e._v(e._s(t.row.payAmount))])]),e._v(" "),r("el-form-item",{attrs:{label:" 收 货 人"}},[r("span",[e._v(e._s(t.row.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:" 联系方式"}},[r("span",[e._v(e._s(t.row.contactWay))])]),e._v(" "),r("el-form-item",{attrs:{label:"收货地址"}},[r("span",[e._v(e._s(t.row.acceptAddress))])]),e._v(" "),r("el-form-item",{attrs:{label:"商品图片"}},[t.row.productUrl?r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.productUrl,fit:"fit"}}):e._e()],1)],1)]}}],null,!1,843809027)}),e._v(" "),r("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productNo",label:"商品编号",align:"center",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderTime",label:"下单时间",align:"center",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payPrice",label:"付款金额",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payType",label:"支付方式",align:"center",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderState",label:"订单状态",align:"center",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["已发货"===t.row.orderState?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.receiveGoods(t.row.orderId)}}},[e._v("确认收货")]):e._e(),e._v(" "),"已发货"===t.row.orderState?r("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(r){return e.applyReturn(t.row.orderId,t.row.orderNo,t.row.payPrice,t.row.orderState)}},slot:"reference"},[e._v("申请退货")]):e._e()]}}],null,!1,3640382471)})],1)],1)],1)],1):r("div",{staticClass:"no-order"},[r("el-image",{staticStyle:{width:"400px",height:"388px"},attrs:{src:"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/noorder.png"}})],1),e._v(" "),r("el-dialog",{staticClass:"return",attrs:{title:"提示",visible:e.returnFormVisible,top:"30vh",width:"416px"},on:{"update:visible":function(t){e.returnFormVisible=t}}},[r("el-form",{ref:"returnFrom",attrs:{model:e.returnFrom,rules:e.returnRules}},[r("el-form-item",{attrs:{label:"退货原因",prop:"returnReason"}},[r("el-select",{attrs:{placeholder:"请选择退货原因"},model:{value:e.returnFrom.returnReason,callback:function(t){e.$set(e.returnFrom,"returnReason",t)},expression:"returnFrom.returnReason"}},e._l(e.returnReasonName,function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){e.returnFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitReturnInfo("returnFrom")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{staticClass:"logistics",attrs:{title:"物流信息","close-on-click-modal":!1,visible:e.dialogFormVisible,width:"800px",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"changeFrom",staticClass:"info-form",attrs:{inline:"",rules:e.alterRules,model:e.alterForm}},[r("el-form-item",{attrs:{label:"订单编号：",prop:"orderNo"}},[r("el-input",{attrs:{size:"small",readonly:"",placeholder:"订单编号"},model:{value:e.alterForm.orderNo,callback:function(t){e.$set(e.alterForm,"orderNo",t)},expression:"alterForm.orderNo"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"快递公司：",prop:"parcelName"}},[r("el-select",{attrs:{size:"small",filterable:"",placeholder:"快递公司"},model:{value:e.alterForm.parcelName,callback:function(t){e.$set(e.alterForm,"parcelName",t)},expression:"alterForm.parcelName"}},e._l(e.Parcel,function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"收货人：",prop:"receiver"}},[r("el-input",{attrs:{size:"small",placeholder:"收货人",readonly:""},model:{value:e.alterForm.receiver,callback:function(t){e.$set(e.alterForm,"receiver",t)},expression:"alterForm.receiver"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货人联系方式：",prop:"receiverTel"}},[r("el-input",{attrs:{size:"small",placeholder:"收货人联系方式",readonly:""},model:{value:e.alterForm.receiverTel,callback:function(t){e.$set(e.alterForm,"receiverTel",t)},expression:"alterForm.receiverTel"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"收货人地址：",prop:"contactWay"}},[r("el-input",{attrs:{size:"small",placeholder:"收货人地址",readonly:""},model:{value:e.alterForm.receiverAdd,callback:function(t){e.$set(e.alterForm,"receiverAdd",t)},expression:"alterForm.receiverAdd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发货人：",prop:"sender"}},[r("el-input",{attrs:{size:"small",placeholder:"发货人"},model:{value:e.alterForm.sender,callback:function(t){e.$set(e.alterForm,"sender",t)},expression:"alterForm.sender"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发货人联系方式：",prop:"senderTel"}},[r("el-input",{attrs:{size:"small",placeholder:"发货人联系方式"},model:{value:e.alterForm.senderTel,callback:function(t){e.$set(e.alterForm,"senderTel",t)},expression:"alterForm.senderTel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发货人地址：",prop:"senderAdd"}},[r("el-input",{attrs:{size:"small",placeholder:"发货人地址"},model:{value:e.alterForm.senderAdd,callback:function(t){e.$set(e.alterForm,"senderAdd",t)},expression:"alterForm.senderAdd"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{padding:"12px 30px",margin:"0 30px"},attrs:{type:"primary"},on:{click:function(t){return e.submitInfo("changeFrom")}}},[e._v("确 定")]),e._v(" "),r("el-button",{staticStyle:{padding:"12px 30px",margin:"0 30px"},on:{click:function(t){return e.cancelChange("changeFrom")}}},[e._v("取 消")])],1)],1),e._v(" "),r("el-dialog",{staticStyle:{padding:"0 20px 0"},attrs:{title:"小客服",visible:e.serviceVisible,width:"30%"},on:{"update:visible":function(t){e.serviceVisible=t}}},[r("el-image",{attrs:{src:"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/QQ%E5%9B%BE%E7%89%8720201202080302.jpg"}}),e._v(" "),r("p",{staticStyle:{"font-size":"18px",margin:"0"}},[e._v("扫码联系客服（微信）")])],1),e._v(" "),r("el-dialog",{staticClass:"review",attrs:{title:"商品评价",visible:e.reviewFormVisible,top:"20vh",width:"500px"},on:{"update:visible":function(t){e.reviewFormVisible=t}}},[r("el-form",{ref:"reviewFrom",attrs:{model:e.reviewFrom,rules:e.reviewRules}},[r("el-form-item",{attrs:{label:"商品名称",required:"",prop:"productName"}},[r("el-input",{attrs:{size:"small",readonly:"",placeholder:"商品名称"},model:{value:e.reviewFrom.productName,callback:function(t){e.$set(e.reviewFrom,"productName",t)},expression:"reviewFrom.productName"}})],1),e._v(" "),e.reviewFrom.productSpecs?r("el-form-item",{attrs:{required:"",label:"商品规格",prop:"productSpecs"}},[r("el-input",{attrs:{size:"small",readonly:"",placeholder:"商品规格"},model:{value:e.reviewFrom.productSpecs,callback:function(t){e.$set(e.reviewFrom,"productSpecs",t)},expression:"reviewFrom.productSpecs"}})],1):e._e(),e._v(" "),r("el-form-item",{staticClass:"star-item",staticStyle:{"margin-bottom":"0"},attrs:{label:"描述相符",required:"",prop:"starLevel"}},[r("el-rate",{attrs:{colors:e.colors,"show-text":""},model:{value:e.reviewFrom.starLevel,callback:function(t){e.$set(e.reviewFrom,"starLevel",t)},expression:"reviewFrom.starLevel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"商品评价",prop:"productReview"}},[r("el-input",{staticStyle:{"max-height":"120px"},attrs:{type:"textarea",rows:3,placeholder:"从多个角度评价宝贝，可以帮助更多想买的人"},model:{value:e.reviewFrom.productReview,callback:function(t){e.$set(e.reviewFrom,"productReview",t)},expression:"reviewFrom.productReview"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){return e.cancelReview("reviewFrom")}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitReview("reviewFrom")}}},[e._v("确 定")])],1)],1),e._v(" "),r("MallFooter")],1)},staticRenderFns:[]};var l=r("VU/8")(o,a,!1,function(e){r("5pVM")},null,null);t.default=l.exports}});
//# sourceMappingURL=12.6bb3ed10eac4e12686ab.js.map