webpackJsonp([2,17,21],{"+EVV":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"ProductAdd",data:function(){return{productBrandInfo:"",productTypeInfo:"",productId:"",productForm:{productNo:"",productName:"",productBrand:"",productType:"",productDescribe:"",inPrice:0,outPrice:0,productStock:50,lowestStock:50,isNew:!0,isSale:!0,isStockOut:!1,productUrl:""},productSpec:[],productSpecs:[],productRules:{productName:[{required:!0,message:"请填写商品名称",trigger:"blur"},{min:1,max:30,message:"名称长度不允许超过 30 个字符",trigger:"blur"}],productBrand:[{required:!0,message:"请选择商品品牌",trigger:"blur"}],productType:[{required:!0,message:"请选择商品分类",trigger:"blur"}],productDescribe:[{required:!0,message:"请填写商品介绍",trigger:"blur"},{min:1,max:100,message:"名称长度不允许超过 100 个字符",trigger:"blur"}],productUrl:[{required:!0,message:"请上传商品图片",trigger:"blur"}]}}},methods:{uploadProductUrlSuccess:function(t){200===t.code?(this.$msg.success("商品图片上传成功！"),this.productForm.productUrl=t.data,this.$refs.productUpload.clearFiles()):this.$msg.error("商品图片上传失败！")},getDateNow:function(){var t=this,e=new Date,r=String(e.getFullYear()),a=String(e.getMonth()+1),o=String(e.getDate()),s=String(e.getHours());s.length<2&&(s="0"+s);var l=String(e.getMinutes());l.length<2&&(l="0"+l);var i=String(e.getSeconds());i.length<2&&(i="0"+i),this.$http.post("/product/findCount").then(function(e){if(200===e.data.code){var n=e.data.data;t.productForm.productNo=r+a+o+s+l+i+n}else t.$msg.error(e.data.message)}).catch(function(e){t.$msg.error(e)})},querySpec:function(t){var e=this;this.productSpec.length=0,this.$http.post("/specs/findAllByType?productType="+t).then(function(t){200===t.data.code&&(e.productSpecs=t.data.data)}).catch(function(t){e.$msg.error(t)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(r){if(!r)return!1;e.productForm.productName=e.productForm.productName.trim(),e.productForm.productDescribe=e.productForm.productDescribe.trim();var a=e.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.1)"});e.productForm.isStockOut=e.productForm.productStock<e.productForm.lowestStock,e.$http.post("/product/add",e.$qs.stringify(e.productForm)).then(function(r){a.close(),200===r.data.code?(e.$notify({title:"成功",message:e.productForm.productName+"\t添加成功",type:"success"}),e.$refs[t].resetFields(),e.getDateNow(),0!==e.productSpec.length&&(e.productId=null,e.submitSpec(e.productForm.productNo))):e.$notify.error({title:"失败",message:r.data.message})}).catch(function(t){a.close(),e.$msg.error(t)})})},resetForm:function(t){this.getDateNow(),this.$refs[t].resetFields()},sleep:function(t,e){var r=this;setTimeout(function(){r.$http.post("/product/findIdByKey?productNo="+e).then(function(t){200===t.data.code&&(r.productId=t.data.data)}).catch(function(t){r.$msg.error(t)}),null!==r.productId?(r.$http.post("/productSpecs/addBatch?productId="+r.productId+"&specsIds="+r.productSpec),r.productSpec=[]):r.sleep(1e3,e)},t)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,r="image/gif"===t.type,a="image/png"===t.type,o="image/bmp"===t.type,s="image/webp"===t.type,l=t.size/1024/1024<5;return e||r||a||o||s?l||this.$msg.error("上传图片大小不能超过 5MB!"):this.$msg.error("仅支持上传 JPG、JPEG、PNG、GIF、BMP、WEBP 格式文件"),(e||r||a||o||s)&&l},submitSpec:function(t){this.sleep(1e3,t)}},created:function(){var t=this;this.$http.post("/productBrand/findAllName").then(function(e){200===e.data.code&&(t.productBrandInfo=e.data.data)}).catch(function(e){t.$msg.error(e)}),this.$http.post("/productType/findAllName").then(function(e){200===e.data.code&&(t.productTypeInfo=e.data.data)}).catch(function(e){t.$msg.error(e)}),this.getDateNow()}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-add"},[r("el-card",{staticClass:"product-box",attrs:{shadow:"hover"}},[r("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[r("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" "),r("span",[t._v("添加商品")])]),t._v(" "),r("div",{staticClass:"info-box"},[r("el-form",{ref:"ruleForm",staticClass:"product-form",attrs:{model:t.productForm,inline:!0,rules:t.productRules}},[r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品名称：",prop:"productName"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{size:"small"},model:{value:t.productForm.productName,callback:function(e){t.$set(t.productForm,"productName",e)},expression:"productForm.productName"}})],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"商品分类：",prop:"productType"}},[r("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择类别"},on:{change:function(e){return t.querySpec(t.productForm.productType)}},model:{value:t.productForm.productType,callback:function(e){t.$set(t.productForm,"productType",e)},expression:"productForm.productType"}},t._l(t.productTypeInfo,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"商品规格：",prop:"productSpec"}},[r("el-select",{staticClass:"select-spec",staticStyle:{width:"245px"},attrs:{size:"small",multiple:"",placeholder:"请选择商品规格"},model:{value:t.productSpec,callback:function(e){t.productSpec=e},expression:"productSpec"}},t._l(t.productSpecs,function(t){return r("el-option",{key:t.specsId,attrs:{label:t.specsName,value:t.specsId}})}),1)],1),t._v(" "),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品品牌：",prop:"productBrand"}},[r("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择品牌"},model:{value:t.productForm.productBrand,callback:function(e){t.$set(t.productForm,"productBrand",e)},expression:"productForm.productBrand"}},t._l(t.productBrandInfo,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"商品进价：",prop:"inPrice"}},[r("el-input",{attrs:{min:"0",size:"small",type:"number",placeholder:"商品进价"},model:{value:t.productForm.inPrice,callback:function(e){t.$set(t.productForm,"inPrice",e)},expression:"productForm.inPrice"}})],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"商品库存：",prop:"productStock"}},[r("el-input-number",{attrs:{size:"small",min:0,max:1e3,placeholder:"商品库存"},model:{value:t.productForm.productStock,callback:function(e){t.$set(t.productForm,"productStock",e)},expression:"productForm.productStock"}})],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"商品售价：",prop:"outPrice"}},[r("el-input",{attrs:{min:"0",size:"small",type:"number",placeholder:"商品售价"},model:{value:t.productForm.outPrice,callback:function(e){t.$set(t.productForm,"outPrice",e)},expression:"productForm.outPrice"}})],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"最低库存：",prop:"lowestStock"}},[r("el-input-number",{attrs:{size:"small",min:0,max:1e3,placeholder:"最低库存"},model:{value:t.productForm.lowestStock,callback:function(e){t.$set(t.productForm,"lowestStock",e)},expression:"productForm.lowestStock"}})],1),t._v(" "),r("el-form-item",{staticStyle:{width:"100%",height:"30px"},attrs:{label:"商品状态："}},[r("el-form-item",{staticStyle:{"margin-right":"50px"},attrs:{label:"上架",prop:"isSale"}},[r("el-switch",{model:{value:t.productForm.isSale,callback:function(e){t.$set(t.productForm,"isSale",e)},expression:"productForm.isSale"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"新品",prop:"isNew"}},[r("el-switch",{model:{value:t.productForm.isNew,callback:function(e){t.$set(t.productForm,"isNew",e)},expression:"productForm.isNew"}})],1)],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"商品介绍：",prop:"productDescribe"}},[r("el-input",{staticClass:"product-desc",attrs:{type:"textarea",size:"small","show-word-limit":"",autosize:{minRows:1,maxRows:4},placeholder:"商品描述"},model:{value:t.productForm.productDescribe,callback:function(e){t.$set(t.productForm,"productDescribe",e)},expression:"productForm.productDescribe"}})],1),t._v(" "),r("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"商品图片：",prop:"productUrl"}},[r("el-upload",{ref:"productUpload",staticClass:"product-upload",staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"140px",width:"160px"},attrs:{action:this.$VAR.http+"/uploadImage?name=productImage","on-success":t.uploadProductUrlSuccess,"before-upload":t.beforeAvatarUpload,drag:!0,"list-type":"picture"}},[t.productForm.productUrl?r("el-image",{staticStyle:{height:"140px",width:"160px"},attrs:{src:t.productForm.productUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1),t._v(" "),r("el-form-item",{staticStyle:{width:"100%","text-align":"center",position:"absolute",bottom:"-14px",left:"0"}},[r("el-button",{staticStyle:{margin:"0 55px"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("添加商品")]),t._v(" "),r("el-button",{staticStyle:{margin:"0 55px"},on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("取消重置")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=r("VU/8")(a,o,!1,function(t){r("ZCg6")},null,null);e.default=s.exports},"8B5b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("IcnI"),o={name:"Aside",watch:{$route:function(t){for(var e=document.getElementsByClassName("el-menu-item"),r=0;r<e.length;r++)e[r].style.color="rgb(191, 203, 217)";switch(t.path){case"/HomePage":document.getElementById("HomePage").style.color="rgb(64, 158, 255)";break;case"/ProductList":document.getElementById("ProductList").style.color="rgb(64, 158, 255)";break;case"/ProductAdd":document.getElementById("ProductAdd").style.color="rgb(64, 158, 255)";break;case"/ProductType":document.getElementById("ProductType").style.color="rgb(64, 158, 255)";break;case"/ProductBrand":document.getElementById("ProductBrand").style.color="rgb(64, 158, 255)";break;case"/ProductSpecs":document.getElementById("ProductSpecs").style.color="rgb(64, 158, 255)";break;case"/OrderList":document.getElementById("OrderList").style.color="rgb(64, 158, 255)";break;case"/UserList":document.getElementById("UserList").style.color="rgb(64, 158, 255)";break;case"/RoleList":document.getElementById("RoleList").style.color="rgb(64, 158, 255)";break;case"/Purchase":document.getElementById("Purchase").style.color="rgb(64, 158, 255)";break;case"/Supplier":document.getElementById("Supplier").style.color="rgb(64, 158, 255)";break;case"/ReturnReason":document.getElementById("ReturnReason").style.color="rgb(64, 158, 255)";break;case"/ReturnGoods":document.getElementById("ReturnGoods").style.color="rgb(64, 158, 255)";break;case"/SlideShow":document.getElementById("SlideShow").style.color="rgb(64, 158, 255)"}"/HomePage"===this.$route.path&&this.$refs.menu.close(window.localStorage.getItem("menu-index"))}},methods:{handleOpen:function(t){window.localStorage.setItem("menu-index",t),null===a.a.state.token&&(this.$notify({title:"警告",message:"请先登录！",type:"warning"}),this.$router.push("/loginForm"));var e=this.$store.state.role;switch(t){case"2":-1===e.indexOf(this.$VAR.productRole)&&-1===e.indexOf(this.$VAR.adminRole)&&("/NoAccess"!==this.$route.path&&this.$router.push({path:"/NoAccess"}),this.$refs.menu.close(t));break;case"3":-1===e.indexOf(this.$VAR.orderRole)&&-1===e.indexOf(this.$VAR.adminRole)&&("/NoAccess"!==this.$route.path&&this.$router.push({path:"/NoAccess"}),this.$refs.menu.close(t));break;case"4":-1===e.indexOf(this.$VAR.userRole)&&-1===e.indexOf(this.$VAR.adminRole)&&("/NoAccess"!==this.$route.path&&this.$router.push({path:"/NoAccess"}),this.$refs.menu.close(t))}},handleClose:function(t,e){}}},s={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"aside"},[r("el-menu",{ref:"menu",staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","unique-opened":"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"},on:{open:t.handleOpen,close:t.handleClose}},[r("router-link",{staticClass:"router-link",attrs:{to:"/HomePage"}},[r("el-menu-item",{attrs:{id:"HomePage",index:"1"}},[r("i",{staticClass:"el-icon-s-home"}),t._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])])],1),t._v(" "),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-shopping-bag-1"}),t._v(" "),r("span",[t._v("商品")])]),t._v(" "),r("el-menu-item-group",[r("router-link",{staticClass:"router-link",attrs:{to:"/ProductList"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ProductList",index:"2-1"}},[r("i",{staticClass:"el-icon-location"}),t._v(" "),r("span",[t._v("商品列表")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/ProductAdd"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ProductAdd",index:"2-2"}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" "),r("span",[t._v("添加商品")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/ProductType"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ProductType",index:"2-3"}},[r("i",{staticClass:"el-icon-menu"}),t._v(" "),r("span",[t._v("商品分类")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/ProductBrand"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ProductBrand",index:"2-4"}},[r("i",{staticClass:"el-icon-discount"}),t._v(" "),r("span",[t._v("商品品牌")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/ProductSpecs"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ProductSpecs",index:"2-5"}},[r("i",{staticClass:"el-icon-discount"}),t._v(" "),r("span",[t._v("商品规格")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/Purchase"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"Purchase",index:"2-6"}},[r("i",{staticClass:"el-icon-bangzhu"}),t._v(" "),r("span",[t._v("商品采购")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/Supplier"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"Supplier",index:"2-7"}},[r("i",{staticClass:"el-icon-s-custom"}),t._v(" "),r("span",[t._v("供应商管理")])])],1)],1)],2),t._v(" "),r("el-submenu",{attrs:{index:"3"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-s-order"}),t._v(" "),r("span",[t._v("订单")])]),t._v(" "),r("el-menu-item-group",[r("router-link",{staticClass:"router-link",attrs:{to:"/OrderList"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"OrderList",index:"3-1"}},[r("i",{staticClass:"el-icon-news"}),t._v(" "),r("span",[t._v("订单列表")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/ReturnGoods"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ReturnGoods",index:"3-2"}},[r("i",{staticClass:"el-icon-box"}),t._v(" "),r("span",[t._v("退货申请处理")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/ReturnReason"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"ReturnReason",index:"3-3"}},[r("i",{staticClass:"el-icon-edit-outline"}),t._v(" "),r("span",[t._v("退货原因设置")])])],1)],1)],2),t._v(" "),r("el-submenu",{attrs:{index:"4"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-sell"}),t._v(" "),r("span",[t._v("营销")])]),t._v(" "),r("el-menu-item-group",[r("router-link",{staticClass:"router-link",attrs:{to:"/SlideShow"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"SlideShow",index:"4-1"}},[r("i",{staticClass:"el-icon-picture"}),t._v(" "),r("span",[t._v("商品轮播图")])])],1)],1)],2),t._v(" "),r("el-submenu",{attrs:{index:"5"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-bell"}),t._v(" "),r("span",[t._v("权限")])]),t._v(" "),r("el-menu-item-group",[r("router-link",{staticClass:"router-link",attrs:{to:"/UserList"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"UserList",index:"5-1"}},[r("i",{staticClass:"el-icon-user"}),t._v(" "),r("span",[t._v("用户列表")])])],1),t._v(" "),r("router-link",{staticClass:"router-link",attrs:{to:"/RoleList"}},[r("el-menu-item",{staticClass:"el-menu-item-bg",attrs:{id:"RoleList",index:"5-2"}},[r("i",{staticClass:"el-icon-connection"}),t._v(" "),r("span",[t._v("角色列表")])])],1)],1)],2)],1)],1)},staticRenderFns:[]};var l=r("VU/8")(o,s,!1,function(t){r("SWiD")},null,null).exports,i=r("YaEn"),n={name:"weather",mounted:function(){var t,e,r,a,o,s,l,i;t=window,e=document,r="script",a="SeniverseWeatherWidget",o="//cdn.sencdn.com/widget2/static/js/bundle.js?t="+parseInt(((new Date).getTime()/1e8).toString(),10),i=function(){s=e.createElement(r),l=e.getElementsByTagName(r)[0],s.src=o,s.charset="utf-8",s.async=1,l.parentNode.insertBefore(s,l)},t.SeniverseWeatherWidgetObject=a,t[a]||(t[a]=function(){(t[a].q=t[a].q||[]).push(arguments)}),t[a].l=+new Date,t.attachEvent?t.attachEvent("onload",i):t.addEventListener("load",i,!1),window.SeniverseWeatherWidget("show",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:!0,language:"zh-Hans",unit:"c",theme:"auto",token:"d12ecad8-f040-495b-89f7-6bc107b89f91",hover:"enabled",container:"tp-weather-widget"})}},c={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"tp-weather-widget"}})},staticRenderFns:[]};var u={name:"Header",components:{watcher:r("VU/8")(n,c,!1,function(t){r("Up8g")},null,null).exports},data:function(){return{breadList:[]}},computed:{getAvatarUrl:function(){return null!==this.$store.state.user?this.$store.state.user.avatarUrl:"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/avat.gif"},getIsVip:function(){return null!==this.$store.state.user&&this.$store.state.user.isVip}},methods:{errorHandler:function(){return!0},toHome:function(){null!==this.$store.state.role&&-1===this.$store.state.role.indexOf(this.$VAR.ordinaryRole)?"/HomePage"!==this.$route.path&&this.$router.push({path:"/HomePage"}):"/MallHome"!==this.$route.path&&this.$router.push({path:"/MallHome"})},toLogin:function(){this.$router.push({path:"/loginForm"})},toRegister:function(){this.$router.push({path:"/registerForm"})},toPersonal:function(){this.$router.push({path:"/personalCenter"})},toChangePwd:function(){this.$router.push({path:"/changePassword"})},toMyOrder:function(){this.$router.push({path:"/myOrder"})},toMyCart:function(){this.$router.push({path:"/shoppingCart"})},clearInfo:function(){this.$message({showClose:!0,message:"退出成功",duration:1e3,type:"success"}),i.a.replace({path:"/loginForm"}),this.$store.commit("setToken",null),this.$store.commit("setRole",null),this.$store.commit("setUser",null),this.$store.commit("setRoleInfo",null),localStorage.clear()},exit:function(){var t=this;this.$confirm("您确定要退出吗？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=t.$loading({lock:!0,text:"正在退出",background:"rgba(255,255,255,0.5)"});t.$http.post("/logout?key="+t.$store.state.user.accountNumber+"&session="+t.$store.state.token).then(function(r){200===r.status&&(200===r.data.code?(e.close(),t.clearInfo()):setTimeout(function(){t.$http.post("/logout?key="+t.$store.state.user.accountNumber+"&session="+t.$store.state.token).then(function(r){e.close(),200===r.status&&(200===r.data.code?(e.close(),t.clearInfo()):(e.close(),t.$message({showClose:!0,message:"退出失败,请重试",duration:1500,type:"error"})))}).catch(function(r){e.close(),console.log(r),t.$message.error("退出失败，"+r)})},1e3))}).catch(function(r){setTimeout(function(){t.$http.post("/logout?key="+t.$store.state.user.accountNumber+"&session="+t.$store.state.token).then(function(r){e.close(),200===r.status&&(200===r.data.code?t.clearInfo():t.$message({showClose:!0,message:"退出失败,请重试",duration:1500,type:"error"}))}).catch(function(r){e.close(),console.log(r),t.$message.error("退出失败，"+r)})},1500)})}).catch(function(){})}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("el-breadcrumb",{staticClass:"el-breadcrumb",attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:"/HomePage"}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta.headerName,function(e,a){return r("el-breadcrumb-item",{key:a},[e.url?r("router-link",{attrs:{to:e.url}},[t._v(t._s(e.name))]):r("span",[t._v("\n      "+t._s(e.name)+"\n    ")])],1)}),t._v(" "),r("watcher",{staticClass:"wat",class:{watcher:null!==this.$store.state.token}}),t._v(" "),r("div",{staticClass:"avatar"},[null!==this.$store.state.token?r("el-dropdown",{staticClass:"el-dropdown",staticStyle:{"padding-top":"18px"},attrs:{placement:"bottom-start"}},[r("div",{staticStyle:{position:"relative",height:"34px"}},[t.getIsVip?r("el-image",{staticStyle:{position:"absolute",top:"-12px",right:"-7px",width:"19px"},attrs:{src:"http://img.alicdn.com/tfs/TB1felqRXXXXXa7XXXXXXXXXXXX-22-22.png",alt:"vip"}}):t._e(),t._v(" "),r("el-avatar",{staticClass:"el-avatar",attrs:{src:t.getAvatarUrl},on:{error:t.errorHandler}},[r("img",{attrs:{src:"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/avat.gif",alt:"默认头像"}})])],1),t._v(" "),r("el-dropdown-menu",{staticClass:"el-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[r("span",{staticStyle:{"border-top":"1px solid"},on:{click:function(e){return t.toHome()}}},[r("el-dropdown-item",[t._v("首页")])],1),t._v(" "),r("span",{staticStyle:{"border-top":"1px solid"},on:{click:function(e){return t.toPersonal()}}},[r("el-dropdown-item",[t._v("个人中心")])],1),t._v(" "),r("span",{staticStyle:{"border-top":"1px solid"},on:{click:function(e){return t.toChangePwd()}}},[r("el-dropdown-item",[t._v("修改密码")])],1),t._v(" "),null!==this.$store.state.role&&-1!==this.$store.state.role.indexOf(this.$VAR.ordinaryRole)?r("span",{staticStyle:{"border-top":"1px solid"},on:{click:function(e){return t.toMyOrder()}}},[r("el-dropdown-item",[t._v("我的订单")])],1):t._e(),t._v(" "),null!==this.$store.state.role&&-1!==this.$store.state.role.indexOf(this.$VAR.ordinaryRole)?r("span",{staticStyle:{"border-top":"1px solid"},on:{click:function(e){return t.toMyCart()}}},[r("el-dropdown-item",[t._v("购物车")])],1):t._e(),t._v(" "),r("span",{staticStyle:{"border-top":"1px solid"},on:{click:function(e){return t.exit()}}},[r("el-dropdown-item",[t._v("退出")])],1)])],1):r("div",[r("el-button",{attrs:{round:"",type:"danger"},on:{click:function(e){return t.toLogin()}}},[t._v("登录")]),t._v(" "),r("el-button",{attrs:{round:""},on:{click:function(e){return t.toRegister()}}},[t._v("注册")])],1)],1)],2)],1)},staticRenderFns:[]};var p=r("VU/8")(u,d,!1,function(t){r("9i6/")},null,null).exports,m=r("HN3k"),h=r("+EVV"),g={name:"Home",components:{Aside:l,Header:p,ProductList:m.default,ProductAdd:h.default}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("el-container",{staticClass:"el-container"},[null!==this.$store.state.user&&null!==this.$store.state.role&&-1===this.$store.state.role.indexOf(this.$VAR.ordinaryRole)?e("el-aside",{staticClass:"el-aside"},[e("Aside")],1):this._e(),this._v(" "),e("el-container",{staticClass:"el-container"},[e("el-header",{staticClass:"el-header"},[e("Header")],1),this._v(" "),e("el-main",{staticClass:"el-main"},[e("router-view")],1),this._v(" "),null!==this.$store.state.role&&-1===this.$store.state.role.indexOf(this.$VAR.ordinaryRole)?e("el-footer",{staticClass:"el-footer"},[e("div",{staticClass:"footer"},[e("span",[this._v("Copyright © 2020 - "+this._s((new Date).getFullYear())+"  花卷买卖公司 版权所有")])])]):this._e()],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(g,b,!1,function(t){r("ZMvt")},null,null);e.default=f.exports},"9i6/":function(t,e){},HN3k:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"ProductList",data:function(){return{dialogImageUrl:"",dialogVisible:!1,dialogFormVisible:!1,purchaseFormVisible:!1,handleIndex:0,productTotal:6,pageIndex:1,pageSize:10,pageSizes:[10,30,60,100,200],supplierIndex:0,supplierInfo:"",tableSource:{},tableTemp:{},ruleForm:{name:"",goodsNo:"",sort:"",brand:"",put_status:"",new_status:"",stockout_status:""},alterForm:{productId:"",productName:"",productType:"",productBrand:"",outPrice:"",inPrice:"",lowestStock:"",productDescribe:"",productUrl:"",isStockOut:""},alterRules:{productName:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:30,message:"名称长度不允许超过 30 个字符",trigger:"blur"}],outPrice:[{required:!0,message:"请输入商品售价",trigger:"blur"}],inPrice:[{required:!0,message:"请输入商品进价",trigger:"blur"}],productDescribe:[{required:!0,message:"请输入商品描述",trigger:"blur"},{min:1,max:100,message:"描述信息长度不允许超过 100 个字符",trigger:"blur"}]},purchaseForm:{purchaseNo:"",productNo:"",productName:"",purchaseNumber:"",supplierNo:"",supplierName:"",accountNumber:"",userName:"",receiptStatus:!1},purchaseRules:{},productSort:[],productBrand:[],putStatus:["上架","下架"],newStatus:["新品","正常"],stockoutStatus:["正常","缺货"],tableData:[]}},created:function(){var t=this;this.$http.post("/product/findCount").then(function(e){200===e.data.code?(t.pageSize=t.productTotal=e.data.data,t.pageSizes.push(t.productTotal)):t.$msg.error(e.data.message)}).catch(function(e){t.$msg.error(e)}),this.$http.post("/productBrand/findAllName").then(function(e){200===e.data.code?t.productBrand=e.data.data:t.$msg.error(e.data.message)}).catch(function(e){t.$msg.error(e)}),this.$http.post("/productType/findAllName").then(function(e){200===e.data.code?t.productSort=e.data.data:t.$msg.error(e.data.message)}).catch(function(e){t.$msg.error(e)}),this.reqInfo(),this.$http.post("/supplier/findAllUsable").then(function(e){200===e.data.code?t.supplierInfo=e.data.data:t.$msg.error(e.data.message)}).catch(function(e){t.$msg.error(e)})},methods:{reqInfo:function(){var t=this,e=this.$loading({lock:!0,text:"数据加载中",background:"rgba(255,255,255,0.1)"});this.$http.post("/product/findAll").then(function(r){e.close(),200===r.data.code?(t.tableData=r.data.data,t.tableSource=t.tableTemp=t.tableData,t.handleSizeChange(t.pageSize)):t.$msg.error(r.data.message)}).catch(function(r){e.close(),t.$msg.error(r)})},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,r="image/gif"===t.type,a="image/png"===t.type,o="image/bmp"===t.type,s="image/webp"===t.type,l=t.size/1024/1024<5;return e||r||a||o||s?l||this.$msg.error("上传图片大小不能超过 5MB!"):this.$msg.error("仅支持上传 JPG、JPEG、PNG、GIF、BMP、WEBP 格式文件"),(e||r||a||o||s)&&l},openChange:function(t){this.alterForm.productId=this.tableData[t].productId,this.alterForm.productName=this.tableData[t].productName,this.alterForm.productType=this.tableData[t].productType,this.alterForm.inPrice=this.tableData[t].inPrice,this.alterForm.outPrice=this.tableData[t].outPrice,this.alterForm.productBrand=this.tableData[t].productBrand,this.alterForm.lowestStock=this.tableData[t].lowestStock,this.alterForm.productDescribe=this.tableData[t].productDescribe,this.alterForm.productUrl=this.tableData[t].productUrl,this.alterForm.isStockOut=this.tableData[t].isStockOut,this.dialogFormVisible=!0,this.handleIndex=t},submitChange:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.alterForm.isStockOut=e.tableData[e.handleIndex].productStock<e.alterForm.lowestStock;var r=e.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.1)"});e.$http.post("/product/update",e.$qs.stringify(e.alterForm)).then(function(t){r.close(),200===t.data.code?(e.tableData[e.handleIndex].productName=e.alterForm.productName,e.tableData[e.handleIndex].productType=e.alterForm.productType,e.tableData[e.handleIndex].inPrice=e.alterForm.inPrice,e.tableData[e.handleIndex].outPrice=e.alterForm.outPrice,e.tableData[e.handleIndex].productBrand=e.alterForm.productBrand,e.tableData[e.handleIndex].lowestStock=e.alterForm.lowestStock,e.tableData[e.handleIndex].productDescribe=e.alterForm.productDescribe,e.tableData[e.handleIndex].productUrl=e.alterForm.productUrl,e.tableData[e.handleIndex].isStockOut=e.alterForm.isStockOut,e.dialogFormVisible=!1,e.$notify({title:"成功",message:"商品信息更新成功",type:"success"})):e.$msg.error(t.data.message)}).catch(function(t){r.close(),e.$msg.error(t)})})},cancelChange:function(t){this.$refs[t].resetFields(),this.dialogFormVisible=!1},isSaleState:function(t){var e=this,r=this.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.1)"});this.$http.post("/product/update?productId="+this.tableData[t].productId+"&isSale="+this.tableData[t].isSale).then(function(a){r.close(),200===a.data.code&&(e.tableData[t].isSale?e.$notify({title:"成功",message:e.tableData[t].productName+"\t已上架",type:"success"}):e.$notify({title:"成功",message:e.tableData[t].productName+"\t已下架",type:"success"}))}).catch(function(t){r.close(),e.$msg.error(t)})},isNewState:function(t){var e=this,r=this.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.1)"});this.$http.post("/product/update?productId="+this.tableData[t].productId+"&isNew="+this.tableData[t].isNew).then(function(a){r.close(),200===a.data.code&&(e.tableData[t].isNew?(e.reqInfo(),e.$notify({title:"成功",message:e.tableData[t].productName+"\t设为新品",type:"success"})):e.$notify({title:"成功",message:e.tableData[t].productName+"\t设为正常",type:"success"}))}).catch(function(t){r.close(),e.$msg.error(t)})},resetForm:function(t){this.$refs[t].resetFields()},queryProduct:function(t){this.tableTemp=[];var e=this.ruleForm,r=0;if(0===e.name.length&&0===e.goodsNo.length&&0===e.brand.length&&0===e.put_status.length&&0===e.new_status.length&&0===e.stockout_status.length&&0===e.sort.length)this.tableTemp=this.tableSource,this.productTotal=this.tableSource.length;else{for(var a=0;a<t.length;a++)0!==e.name.length&&-1!==t[a].productName.indexOf(e.name)&&(this.tableTemp.push(t[a]),r++),0!==e.goodsNo.length&&t[a].productNo===e.goodsNo&&(this.tableTemp.push(t[a]),r++),0!==e.sort.length&&t[a].productType===e.sort&&(this.tableTemp.push(t[a]),r++),0!==e.brand.length&&t[a].productBrand===e.brand&&(this.tableTemp.push(t[a]),r++),0!==e.put_status.length&&("上架"===e.put_status&&t[a].isSale?(this.tableTemp.push(t[a]),r++):"下架"!==e.put_status||t[a].isSale||(this.tableTemp.push(t[a]),r++)),0!==e.new_status.length&&("新品"===e.new_status&&t[a].isNew?(this.tableTemp.push(t[a]),r++):"正常"!==e.new_status||t[a].isNew||(this.tableTemp.push(t[a]),r++)),0!==e.stockout_status.length&&("缺货"===e.stockout_status&&t[a].isStockOut?(this.tableTemp.push(t[a]),r++):"正常"!==e.stockout_status||t[a].isStockOut||(this.tableTemp.push(t[a]),r++));this.productTotal=r}this.handleSizeChange(this.pageSize)},handleSizeChange:function(t){this.pageSize=t,this.handleCurrentChange(this.pageIndex)},handleCurrentChange:function(t){this.pageIndex=t,this.currentChangePage(this.tableTemp,t)},currentChangePage:function(t,e){var r=(e-1)*this.pageSize,a=e*this.pageSize;for(a>this.productTotal&&(a=this.productTotal),this.tableData=[];r<a;r++)this.tableData.push(t[r])},deleteCheck:function(t,e){var r=this;this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=r.tableData[t].productName;r.$http.post("/product/delete?productId="+r.tableData[t].productId).then(function(o){200===o.data.code&&(e.splice(t,1),r.$notify({title:"成功",message:a+"\t商品移除成功",type:"success"}))}).catch(function(t){r.$msg.error(t)})}).catch(function(){r.$notify({title:"成功",message:"操作取消",type:"success"})})},uploadProductUrlSuccess:function(t){200===t.code?(this.$msg.success("商品图片上传成功！"),this.alterForm.productUrl=t.data,this.$refs.productUpload.clearFiles()):this.$msg.error("商品图片上传失败！")},numberChange:function(){this.purchaseForm.purchaseNumber=parseInt(this.purchaseForm.purchaseNumber)},getPurchaseNo:function(){var t=new Date,e=String(t.getFullYear()),r=String(t.getMonth()+1),a=String(t.getDate()),o=String(t.getSeconds());o.length<2&&(o="0"+o);var s=Math.floor(9e3*Math.random()+1e3+1);this.purchaseForm.purchaseNo="P"+e+r+a+o+s},purchase:function(t){this.purchaseForm.productNo=this.tableData[t].productNo,this.purchaseForm.productName=this.tableData[t].productName,this.purchaseForm.purchaseNumber=0,this.purchaseForm.accountNumber=this.$store.state.user.accountNumber,this.purchaseForm.userName=this.$store.state.user.userName,this.purchaseForm.receiptStatus=!1,this.purchaseFormVisible=!0},submitPurchaseInfo:function(){var t=this;this.getPurchaseNo(),this.purchaseForm.supplierNo=this.supplierInfo[this.supplierIndex].supplierNo,this.purchaseForm.supplierName=this.supplierInfo[this.supplierIndex].supplierName;var e=this.$loading({lock:!0,text:"数据提交中",background:"rgba(255,255,255,0.1)"});this.$http.post("/purchase/addPurchase",this.$qs.stringify(this.purchaseForm)).then(function(r){e.close(),200===r.data.code?(e.close(),t.$notify({title:"成功",message:t.purchaseForm.productName+"\t采购信息提交成功",type:"success"}),t.purchaseFormVisible=!1):t.$notify.error({title:"失败",message:t.purchaseForm.productName+"\t采购信息提交失败"})}).catch(function(r){e.close(),t.$msg.error(r)})}}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-list"},[r("el-card",{staticClass:"box-card product-list-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("i",{staticClass:"el-icon-search"}),t._v(" "),r("span",[t._v("筛选搜索")]),t._v(" "),r("el-button",{staticClass:"el-button-search",attrs:{type:"primary"},on:{click:function(e){return t.queryProduct(t.tableSource)}}},[t._v("查询")]),t._v(" "),r("el-button",{staticClass:"el-button-search",on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1),t._v(" "),r("el-form",{ref:"ruleForm",staticClass:"el-form",attrs:{model:t.ruleForm,inline:""}},[r("el-form-item",{attrs:{label:"商品名称：",prop:"name"}},[r("el-input",{attrs:{placeholder:"商品名称"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品货号：",prop:"goodsNo"}},[r("el-input",{attrs:{placeholder:"商品货号"},model:{value:t.ruleForm.goodsNo,callback:function(e){t.$set(t.ruleForm,"goodsNo",e)},expression:"ruleForm.goodsNo"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品分类：",prop:"sort"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择分类",clearable:""},model:{value:t.ruleForm.sort,callback:function(e){t.$set(t.ruleForm,"sort",e)},expression:"ruleForm.sort"}},t._l(t.productSort,function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"商品品牌：",prop:"brand"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择品牌",clearable:""},model:{value:t.ruleForm.brand,callback:function(e){t.$set(t.ruleForm,"brand",e)},expression:"ruleForm.brand"}},t._l(t.productBrand,function(t){return r("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"上架状态：",prop:"put_status"}},[r("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.ruleForm.put_status,callback:function(e){t.$set(t.ruleForm,"put_status",e)},expression:"ruleForm.put_status"}},t._l(t.putStatus,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"新品状态：",prop:"new_status"}},[r("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.ruleForm.new_status,callback:function(e){t.$set(t.ruleForm,"new_status",e)},expression:"ruleForm.new_status"}},t._l(t.newStatus,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"缺货状态：",prop:"stockout_status"}},[r("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.ruleForm.stockout_status,callback:function(e){t.$set(t.ruleForm,"stockout_status",e)},expression:"ruleForm.stockout_status"}},t._l(t.stockoutStatus,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1)],1)],1),t._v(" "),r("el-card",{staticClass:"box-card product-list-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("i",{staticClass:"el-icon-coin"}),t._v(" "),r("span",[t._v("数据列表")]),t._v(" "),r("el-button",{staticClass:"el-button-search",on:{click:function(e){return t.$router.push("/ProductAdd")}}},[t._v("添加")])],1),t._v(" "),r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{slot:"empty",data:t.tableData,height:"500px",border:"",stripe:"","highlight-current-row":""},slot:"empty"},[r("el-table-column",{attrs:{type:"selection",align:"center",width:"50"}}),t._v(" "),r("el-table-column",{attrs:{prop:"productId",label:"编号",align:"center",width:"50"}}),t._v(" "),r("el-table-column",{attrs:{label:"商品图片",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.tableData[e.$index]?r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.tableData[e.$index].productUrl,fit:"fit"}}):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"商品名称",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("货号："+t._s(t.tableData[e.$index].productNo))]),t._v(" "),r("p",{domProps:{textContent:t._s(t.tableData[e.$index].productName)}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"分类/品牌",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("分类："+t._s(t.tableData[e.$index].productType))]),t._v(" "),r("p",[t._v("品牌："+t._s(t.tableData[e.$index].productBrand))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"价格",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("进价：￥"+t._s(t.tableData[e.$index].inPrice))]),t._v(" "),r("p",[t._v("售价：￥"+t._s(t.tableData[e.$index].outPrice))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"标签",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",[t._v("上架："),r("el-switch",{on:{change:function(r){return t.isSaleState(e.$index)}},model:{value:t.tableData[e.$index].isSale,callback:function(r){t.$set(t.tableData[e.$index],"isSale",r)},expression:"tableData[scope.$index].isSale"}})],1),t._v(" "),r("p",[t._v("新品："),r("el-switch",{on:{change:function(r){return t.isNewState(e.$index)}},model:{value:t.tableData[e.$index].isNew,callback:function(r){t.$set(t.tableData[e.$index],"isNew",r)},expression:"tableData[scope.$index].isNew"}})],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"库存",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.tableData?r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right",content:"最低库存："+t.tableData[e.$index].lowestStock}},[r("p",{staticStyle:{cursor:"pointer"},domProps:{textContent:t._s(t.tableData[e.$index].productStock)}})]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"缺货状态",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.tableData[e.$index].isStockOut?r("span",{staticStyle:{color:"#ff0000"}},[t._v("缺货")]):r("span",[t._v("正常")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"开售时间",align:"center",width:"100",prop:"saleTime"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[r("el-button",{staticStyle:{"margin-bottom":"20px!important"},attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(r){return t.purchase(e.$index)}},slot:"reference"},[t._v("商品采购")])],1),t._v(" "),r("div",[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.openChange(e.$index)}}},[t._v("编辑")]),t._v(" "),r("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(r){return t.deleteCheck(e.$index,t.tableData)}},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"page-sizes":t.pageSizes,"page-size":t.pageSize,"current-page":t.pageIndex,layout:"total, sizes, prev, pager, next, jumper",total:t.productTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),t.tableData[t.handleIndex]?r("el-dialog",{staticClass:"chang-product",attrs:{title:"编辑商品",visible:t.dialogFormVisible,center:""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"changeFrom",staticClass:"el-form",attrs:{inline:"",rules:t.alterRules,model:t.alterForm}},[r("el-form-item",{attrs:{label:"商品名称：",prop:"productName"}},[r("el-input",{attrs:{placeholder:"商品名称"},model:{value:t.alterForm.productName,callback:function(e){t.$set(t.alterForm,"productName",e)},expression:"alterForm.productName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品分类：",prop:"productType"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择分类"},model:{value:t.alterForm.productType,callback:function(e){t.$set(t.alterForm,"productType",e)},expression:"alterForm.productType"}},t._l(t.productSort,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"商品进价：",prop:"inPrice"}},[r("el-input",{attrs:{type:"number",min:"0",placeholder:"商品进价"},model:{value:t.alterForm.inPrice,callback:function(e){t.$set(t.alterForm,"inPrice",e)},expression:"alterForm.inPrice"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品品牌：",prop:"productBrand"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择品牌"},model:{value:t.alterForm.productBrand,callback:function(e){t.$set(t.alterForm,"productBrand",e)},expression:"alterForm.productBrand"}},t._l(t.productBrand,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"商品售价：",prop:"outPrice"}},[r("el-input",{attrs:{type:"number",min:"0",placeholder:"商品售价"},model:{value:t.alterForm.outPrice,callback:function(e){t.$set(t.alterForm,"outPrice",e)},expression:"alterForm.outPrice"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"最低库存：",prop:"lowestStock"}},[r("el-input-number",{attrs:{size:"medium",min:"0",max:"1000",placeholder:"最低库存"},model:{value:t.alterForm.lowestStock,callback:function(e){t.$set(t.alterForm,"lowestStock",e)},expression:"alterForm.lowestStock"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品描述：",prop:"productDescribe"}},[r("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"商品描述"},model:{value:t.alterForm.productDescribe,callback:function(e){t.$set(t.alterForm,"productDescribe",e)},expression:"alterForm.productDescribe"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品图片：",prop:"productUrl"}},[r("el-upload",{ref:"productUpload",staticClass:"product-upload",staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"155px",width:"217px"},attrs:{action:this.$VAR.http+"/uploadImage?name=productImage","on-success":t.uploadProductUrlSuccess,"before-upload":t.beforeAvatarUpload,drag:!0,"list-type":"picture"}},[r("el-image",{staticStyle:{height:"155px",width:"217px"},attrs:{src:t.alterForm.productUrl}})],1)],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{padding:"12px 54px",margin:"0 55px"},attrs:{type:"primary"},on:{click:function(e){return t.submitChange("changeFrom")}}},[t._v("确 定")]),t._v(" "),r("el-button",{staticStyle:{padding:"12px 54px",margin:"0 55px"},on:{click:function(e){return t.cancelChange("changeFrom")}}},[t._v("取 消")])],1)],1):t._e(),t._v(" "),r("el-dialog",{staticClass:"chang-purchase",attrs:{title:"商品采购","close-on-click-modal":!1,visible:t.purchaseFormVisible,width:"500px",center:""},on:{"update:visible":function(e){t.purchaseFormVisible=e}}},[r("el-form",{ref:"changeFrom",staticClass:"info-form",attrs:{inline:"",model:t.purchaseForm,rules:t.purchaseRules}},[r("el-form-item",{attrs:{label:"商品编号：",prop:"productNo"}},[r("el-input",{attrs:{size:"small",readonly:"",placeholder:"商品编号"},model:{value:t.purchaseForm.productNo,callback:function(e){t.$set(t.purchaseForm,"productNo",e)},expression:"purchaseForm.productNo"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"商品名称：",prop:"productName"}},[r("el-input",{attrs:{size:"small",readonly:"",placeholder:"商品名称"},model:{value:t.purchaseForm.productName,callback:function(e){t.$set(t.purchaseForm,"productName",e)},expression:"purchaseForm.productName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"供应商：",prop:"supplierNo"}},[r("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择供应商"},model:{value:t.supplierIndex,callback:function(e){t.supplierIndex=e},expression:"supplierIndex"}},t._l(t.supplierInfo,function(t,e){return r("el-option",{key:e,attrs:{label:t.supplierName,value:e}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"采购数量：",prop:"purchaseNumber"}},[r("el-input-number",{staticStyle:{width:"186px"},attrs:{size:"small",min:1,max:1e3,label:"采购数量"},on:{change:t.numberChange},model:{value:t.purchaseForm.purchaseNumber,callback:function(e){t.$set(t.purchaseForm,"purchaseNumber",e)},expression:"purchaseForm.purchaseNumber"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{padding:"10px 35px",margin:"0 30px 0 60px"},attrs:{type:"primary"},on:{click:t.submitPurchaseInfo}},[t._v("确 定")]),t._v(" "),r("el-button",{staticStyle:{padding:"10px 35px",margin:"0 30px"},on:{click:function(e){t.purchaseFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var s=r("VU/8")(a,o,!1,function(t){r("JJQi")},null,null);e.default=s.exports},JJQi:function(t,e){},SWiD:function(t,e){},Up8g:function(t,e){},ZCg6:function(t,e){},ZMvt:function(t,e){}});
//# sourceMappingURL=2.635990197a5ca602be91.js.map