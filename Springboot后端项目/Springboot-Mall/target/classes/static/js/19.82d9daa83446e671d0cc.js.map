{"version":3,"sources":["webpack:///src/components/user/ShoppingCart.vue","webpack:///./src/components/user/ShoppingCart.vue?e900","webpack:///./src/components/user/ShoppingCart.vue"],"names":["ShoppingCart","name","components","MallFooter","data","tableData","selectedData","summation","options","app","addressForm","selectedOptions","detailAddress","addressRules","validator","rule","value","callback","length","Error","trigger","trim","addressFormVisible","orderFormVisible","orders","baseInfo","userName","this","$store","state","user","contactWay","payMoney","acceptAddress","baseInfoRules","test","methods","submitForm","formName","_this","$refs","validate","valid","str","ad","i","len","buy","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","$router","push","catch","createOrder","_this3","index","order","orderNo","getDateNow","userAccount","productNo","payPrice","totalPrice","productSpecs","payAmount","payType","orderFrom","orderState","returnState","Math","floor","random","send","ordersInfo","stringify_default","loading","$loading","lock","text","background","$http","post","$qs","stringify","rep","close","code","split","money","_len","j","Number","msg","$alert","orderName","getCurrentDate","response","div","document","createElement","innerHTML","body","appendChild","forms","submit","err","$msg","error","time","Date","String","getFullYear","getMonth","getDate","getHours","getMinutes","year","substring","mouth","day","hours","seconds","getSeconds","calculationPrice","productPrice","discount","toFixed","cartInfo","cartId","deleteProduct","_this4","reqInfo","$message","message","handleSelectionChange","val","goShopping","path","clearCart","_this5","_this6","isVip","created","user_ShoppingCart","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","title","circle","on","click","_e","_v","staticStyle","text-decoration","to","width","height","margin-top","margin-right","src","_m","ref","tooltip-effect","highlight-current-row","selection-change","label","scopedSlots","_u","key","fn","scope","row","productId","productUrl","_s","productName","prop","size","min","max","productStock","change","$event","$index","model","$$v","$set","expression","color","direction","font-size","content","disabled","placement","effect","visible","update:visible","rules","separator","autocomplete","slot","position","readonly","top","right","border","plain","staticRenderFns","display","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.82d9daa83446e671d0cc.js","sourcesContent":["<template>\n  <div class=\"shopping-cart\">\n    <el-button v-if=\"this.tableData && tableData.length!==0\" class=\"clear-cart\" type=\"primary\" icon=\"el-icon-delete-solid\" title=\"清空购物车\" @click=\"clearCart\" circle></el-button>\n    <div class=\"product-box\">\n      <div class=\"nav-bar\">\n        <div class=\"container\">\n          <router-link to=\"/MallHome\" style=\"text-decoration: none\" title=\"花卷官网\">\n            <el-image class=\"logo\" style=\"width: 55px;height: 55px;margin-top: 10px;margin-right: 15px;\" src=\"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/lg.png\"></el-image>\n          </router-link>\n          <div style=\"display: inline-block;position:absolute;top: 15px\">\n            <h2>我的购物车</h2>\n            <div class=\"tip\">\n              <span>温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"page-main\" v-if=\"tableData\">\n      <div class=\"cart-info\" v-if=\"tableData.length!==0\">\n        <el-table ref=\"cartTable\" :data=\"tableData\" tooltip-effect=\"dark\" :highlight-current-row=\"false\"\n                  style=\"width: 100%;\" @selection-change=\"handleSelectionChange\">\n          <el-table-column type=\"selection\" width=\"100\"></el-table-column>\n            <el-table-column label=\"商品名称\">\n              <template slot-scope=\"scope\">\n                <router-link :to=\"'/MallPurchase?id='+scope.row.productId\" style=\"text-decoration:none;\">\n                  <div class=\"product-name\">\n                    <el-image class=\"product-img\" :src=\"scope.row.productUrl\"></el-image>\n                    <span class=\"name\">{{scope.row.productName}}</span>\n                  </div>\n                </router-link>\n              </template>\n            </el-table-column>\n          <el-table-column prop=\"productSpecs\" label=\"规格\" width=\"150\"></el-table-column>\n          <el-table-column label=\"单价\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.productPrice}}元</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"数量\" width=\"180\">\n            <template slot-scope=\"scope\">\n              <el-input-number size=\"small\" :min=\"1\" :max=\"scope.row.productStock\" @change=\"calculationPrice(scope.$index)\"  v-model=\"scope.row.payAmount\"></el-input-number>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"会员折扣\" width=\"120\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.discount===100\">无</span>\n              <el-tag type=\"warning\" v-else>{{scope.row.discount}}折</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"小计\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <span style=\"color: #ff6700\">{{scope.row.totalPrice}}元</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"deleteProduct(scope.$index)\"></el-button>\n            </template>\n\n          </el-table-column>\n        </el-table>\n        <div class=\"cart-bar\">\n          <div class=\"section-left\">\n            <router-link to=\"/MallHome\" style=\"text-decoration: none\">\n              <span class=\"to-shop\">\n                继续购物\n              </span>\n            </router-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <span>\n              共\n              <span style=\"color: #FF6700\">{{this.tableData.length}}</span>\n              件商品，已选择\n              <span style=\"color: #FF6700\">{{this.selectedData.length}}</span>\n              件\n            </span>\n          </div>\n          <div class=\"section-right\">\n            <span class=\"total\">\n              合计：\n              <span style=\"font-size: 30px\">{{summation}}</span>\n              元\n            </span>\n            <el-tooltip content=\"请勾选需要结算的商品\" v-if=\"selectedData\" :disabled=\"selectedData.length!==0\" placement=\"top\" effect=\"light\">\n              <div class=\"button\">\n                <el-button type=\"danger\" style=\"height: 100%;width: 100%\" :disabled=\"selectedData.length===0\" @click=\"buy\" >去结算</el-button>\n              </div>\n            </el-tooltip>\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"empty-cart-top\">\n        <h2>\n          您的购物车还是空的！\n        </h2>\n        <el-button type=\"success\" @click=\"goShopping\">马上去购物</el-button>\n      </div>\n    </div>\n\n    <el-dialog title=\"收货地址\" class=\"address-dialog\" width=\"450px\"  :visible.sync=\"addressFormVisible\">\n      <el-form :model=\"addressForm\" :rules=\"addressRules\" ref=\"addressForm\">\n        <el-form-item label=\"所在地区\" prop=\"selectedOptions\">\n          <el-cascader size=\"large\" :options=\"options\" separator=\" \"\n                       v-model=\"addressForm.selectedOptions\">\n          </el-cascader>\n        </el-form-item>\n        <el-form-item label=\"详细地址\" prop=\"detailAddress\">\n          <el-input v-model=\"addressForm.detailAddress\" autocomplete=\"off\" style=\"width: auto\">\n            <i class=\"el-icon-edit el-input__icon\" slot=\"suffix\"/>\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addressFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitForm('addressForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <!--产生订单-->\n    <el-dialog title=\"订单信息\" :visible.sync=\"orderFormVisible\" width=\"600px\">\n      <el-form :model=\"baseInfo\" class=\"order-form\" :rules=\"baseInfoRules\" ref=\"order\">\n        <el-form-item label=\"收货人\" prop=\"userName\">\n          <el-input v-model=\"baseInfo.userName\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"联系方式\" prop=\"contactWay\">\n          <el-input v-model=\"baseInfo.contactWay\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"收货地址\" prop=\"acceptAddress\" style=\"position: relative\">\n          <el-input v-model=\"baseInfo.acceptAddress\" readonly></el-input>\n          <el-button plain style=\"position: absolute;top:1px;right: 14px;border: none\" @click=\"addressFormVisible=true\">修改</el-button>\n        </el-form-item>\n        <el-form-item label=\"预计支付\">\n          <el-input v-model=\"baseInfo.payMoney+' 元'\" readonly></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"createOrder('order')\">付 款</el-button>\n        <el-button @click=\"orderFormVisible = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <!--底部-->\n    <MallFooter></MallFooter>\n  </div>\n</template>\n\n<script>\nimport {regionData, CodeToText} from 'element-china-area-data'\nimport MallFooter from \"../mall/MallFooter\";\n    export default {\n      name: \"ShoppingCart\",\n      components: {\n        MallFooter\n      },\n      data() {\n        let validateOption = (rule, value, callback) => {\n          if (value === null || value.length===0) {\n            callback(new Error('请选择收货地址'));\n          } else {\n            callback();\n          }\n        };\n        let validateAddress = (rule, value, callback) => {\n          if (value === null || value.trim().length===0) {\n            callback(new Error('请填写详细地址'));\n          } else {\n            callback();\n          }\n        };\n        let validateUserName = (rule, value, callback) => {\n          if (value === null || value.trim().length===0) {\n            callback(new Error('请填写收货人'));\n          } else {\n            callback();\n          }\n        };\n        let validateContactWay = (rule, value, callback) => {\n          //匹配手机号正则表达式\n          let regex= /^((0\\d{2,3}-\\d{7,8})|(1[3584]\\d{9}))$/;\n          if (value === null || value.trim().length===0) {\n            callback(new Error('请填写联系方式'));\n          } else if(!regex.test(value)){\n            callback(new Error('请填写正确的手机号'));\n          } else {\n            callback();\n          }\n        };\n        let validateAcceptAddress = (rule, value, callback) => {\n          if (value === null || value.trim().length===0) {\n            callback(new Error('请填写收货地址'));\n          } else {\n            callback();\n          }\n        };\n        return {\n          tableData:null,\n          selectedData:[],\n          summation:0,\n          options: regionData,\n          addressForm:{\n            selectedOptions: [],\n            detailAddress:''     //详细地址\n          },\n          addressRules:{\n            selectedOptions:[{ validator: validateOption, trigger: 'blur' }],\n            detailAddress:[{ validator: validateAddress, trigger: 'blur' }]\n          },\n          addressFormVisible:false,\n          orderFormVisible:false,\n          orders:[],\n          baseInfo:{\n            userName:this.$store.state.user['userName'],\n            contactWay:'',\n            payMoney:0,\n            acceptAddress:this.$store.state.user['userAddress'],\n          },\n          baseInfoRules:{\n            userName:[{ validator: validateUserName, trigger: 'blur' }],\n            contactWay:[{ validator: validateContactWay, trigger: 'blur' }],\n            acceptAddress:[{ validator: validateAcceptAddress, trigger: 'blur' }]\n          },\n        }\n      },\n      methods:{\n        submitForm(formName) {\n          this.$refs[formName].validate((valid) => {\n            if (valid) {\n              let str='';\n              let ad = this.addressForm.selectedOptions;\n              for (let i=0,len=ad.length;i<len;i++){\n                str +=CodeToText[ad[i]]+' ';\n              }\n              str+='('+this.addressForm.detailAddress+')';\n              this.baseInfo.acceptAddress=str;\n              this.addressFormVisible=false;\n            } else {\n              return false;\n            }\n          });\n        },\n        buy(){\n          //总支付金额\n          this.baseInfo.payMoney = this.summation;\n          if(this.baseInfo.userName!==null && this.baseInfo.userName.length===0){\n            this.baseInfo.userName = this.$store.state.user['userName'];\n          }\n          if(this.baseInfo.contactWay!==null && this.baseInfo.contactWay.length===0){\n            if(this.$store.state.user['telephone']===null || this.$store.state.user['telephone'].length===0){\n              this.$confirm('检测到您未绑定手机号，快递小哥哥将无法找到您', '提示', {\n                confirmButtonText: '现在绑定',\n                cancelButtonText: '临时填写',\n                type: 'warning'\n              }).then(() => {this.$router.push('/personalCenter')}).catch(() => {\n                this.orderFormVisible=true;\n              });\n            }else{\n              this.baseInfo.contactWay = this.$store.state.user['telephone'];\n              this.orderFormVisible=true;\n            }\n          }else{\n            this.orderFormVisible=true;\n          }\n\n\n\n        },\n        createOrder(){\n          this.orders.length=0;\n          for(let index=0,len = this.selectedData.length;index < len; index++) {\n            let order={\n              orderNo : this.getDateNow(),\n              userAccount:this.$store.state.user['accountNumber'],\n              productNo : this.selectedData[index].productNo,\n              payPrice : this.selectedData[index].totalPrice,\n              productSpecs : this.selectedData[index].productSpecs,\n              payAmount : this.selectedData[index].payAmount,\n              userName : this.baseInfo.userName,\n              contactWay : this.baseInfo.contactWay,\n              payType : '支付宝',\n              orderFrom : '网页商城',\n              orderState : '待付款',\n              returnState : false,   //未退货\n              acceptAddress : this.baseInfo.acceptAddress   //未退货\n            }\n            this.orders.push(order);\n          }\n          let max=90000;\n          let min=10000;\n\n\n          let orderNo = Math.floor((Math.random()*max+min)+1) //随机数\n          let send ={\n            orderNo : orderNo,\n            ordersInfo : JSON.stringify(this.orders)\n          }\n          let loading = this.$loading({lock: true, text: \"订单处理中\",background:\"rgba(255,255,255,0.1)\"});\n          this.$http.post('/order/cartOrder',this.$qs.stringify(send)).then((rep)=>{\n            loading.close();\n            if(rep.data.code===200){\n              let productNo = rep.data.data.split(',');\n              let money = 0;\n              for (let i=0,len = this.selectedData.length;i<len;i++) {\n                for (let j=0;j< productNo.length;j++) {\n                  if(this.selectedData[i].productNo === productNo[j]){\n                    money+=Number(this.selectedData[i].totalPrice);\n                  }\n                }\n              }\n              let msg = '共'+productNo.length+'商品购买成功，需支付 '+money+' 元';\n              this.$alert(msg, '下单成功', {\n                confirmButtonText: '确定',\n                type: 'success',\n                callback: () => {\n                  let orderName = this.getCurrentDate()+'花卷商城-'+this.baseInfo.userName+'购物车支付订单';\n                  let payPrice = this.baseInfo.payMoney;\n                  let loading = this.$loading({lock: true, text: \"正在跳转支付页面\",background:\"rgba(255,255,255,0.1)\"});\n                  this.$http.post('/alipay/create?orderNo='+orderNo+'&orderName='+orderName+'&payPrice='+payPrice).then((response)=>{\n                    loading.close();\n                    const div = document.createElement('div');\n                    div.innerHTML = response.data;\n                    document.body.appendChild(div);\n                    document.forms[document.forms.length-1].submit();\n                  }).catch((err)=>{loading.close();this.$msg.error(err)})\n                }\n              });\n            }\n          }).catch((err)=>{loading.close();this.$msg.error(err)})\n          this.orderFormVisible=false;\n        },\n        getCurrentDate(){\n          let time = new Date(); // 时间戳\n          let year= String(time.getFullYear()); // 年\n          let mouth= String(time.getMonth() + 1); // 月\n          let day= String(time.getDate()); // 日\n          let hours= String(time.getHours()); // 时\n          let minute= String(time.getMinutes()); // 分\n          return year+'-'+mouth+'-'+day+' '+hours+':'+minute+' ';\n        },\n        getDateNow(){\n          let time = new Date(); // 时间戳\n          let year= String(time.getFullYear()); // 年\n          year = year.substring(2);\n          let mouth= String(time.getMonth() + 1); // 月\n          let day= String(time.getDate()); // 日\n          let hours= String(time.getHours()); // 时\n          if(hours.length<2){\n            hours='0' + hours\n          }\n          let seconds= String(time.getSeconds()); // 秒\n          if(seconds.length<2) {\n            seconds='0' + seconds\n          }\n          let max=9000;\n          let min=1000;\n          let random = Math.floor((Math.random()*max+min)+1) //随机数\n          return year + mouth + day + hours + seconds + random\n        },\n        calculationPrice(index){\n          this.tableData[index].totalPrice=(this.tableData[index].payAmount * Math.floor(this.tableData[index].productPrice * this.tableData[index].discount / 100)).toFixed(2);\n          this.summation=0;\n          for(let i=0,len=this.selectedData.length;i<len;i++){\n            this.summation+=Number(this.selectedData[i].totalPrice);\n          }\n          let cartInfo = {};\n          cartInfo['cartId'] =this.tableData[index].cartId;\n          cartInfo['payAmount'] =this.tableData[index].payAmount;\n          this.$http.post('/shoppingCart/update',this.$qs.stringify(cartInfo));\n        },\n        deleteProduct(index){\n          this.$confirm('此商品将从购物车中移除?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            let loading = this.$loading({lock: true, text: \"数据提交中\",background:\"rgba(255,255,255,0.1)\"});\n            this.$http.post('/shoppingCart/deleteById?cartId='+this.tableData[index].cartId).then((rep)=>{\n              loading.close();\n              if(rep.data.code===200){\n                this.reqInfo();\n                this.$message({type: 'success', message: '移除成功!'});\n              }\n            }).catch((err)=>{loading.close();this.$msg.error(err)})\n          }).catch(() => {});\n        },\n        handleSelectionChange(val){\n          this.summation=0;\n          this.selectedData=val;\n          for(let i=0,len=this.selectedData.length;i<len;i++){\n            this.summation+=Number(this.selectedData[i].totalPrice);\n          }\n        },\n        goShopping(){\n          this.$router.push({path:'/MallHome'})\n        },\n        clearCart(){\n          this.$confirm('是否清空购物车？', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            let loading = this.$loading({lock: true, text: \"数据处理中\",background:\"rgba(255,255,255,0.1)\"});\n            this.$http.post('/shoppingCart/deleteByUser?accountNumber='+this.$store.state.user['accountNumber']).then((rep)=>{\n              loading.close();\n              if(rep.data.code===200){\n                this.reqInfo();\n                this.$message({type: 'success', message: '购物车已清空!'});\n              }\n            }).catch((err)=>{loading.close();this.$msg.error(err)})\n          }).catch(() => {});\n        },\n        reqInfo(){\n          let loading = this.$loading({lock: true, text: \"数据加载中\",background:\"rgba(255,255,255,0.1)\"});\n          this.$http.post('/shoppingCart/findAll?accountNumber='+this.$store.state.user['accountNumber']).then((rep)=>{\n            loading.close();\n            let isVip = this.$store.state.user['isVip'];\n            if(rep.data.code===200){\n              this.tableData=rep.data.data;\n              for (let i=0,len=this.tableData.length;i<len;i++){\n                if(isVip){\n                  this.tableData[i].discount = 98;\n                  if(this.tableData[i].productPrice>=1000 && this.tableData[i].productPrice<5000){\n                    this.tableData[i].discount=95;\n                  }else if(this.tableData[i].productPrice>=5000){\n                    this.tableData[i].discount=90;\n                  }\n                }else{\n                  this.tableData[i].discount = 100;\n                }\n                this.tableData[i].totalPrice=(this.tableData[i].payAmount * Math.floor(this.tableData[i].productPrice * this.tableData[i].discount / 100)).toFixed(2);\n              }\n            }\n          }).catch((err)=>{loading.close();this.$msg.error(err)})\n        }\n      },\n      created() {\n        this.reqInfo();\n      }\n    }\n</script>\n\n<style>\n.shopping-cart{\n  margin: 0;\n  padding: 0;\n  background: #F5F5F5;\n  user-select: none;\n  min-height: 100%;\n  min-width: 1226px;\n}\n.shopping-cart .product-box{\n  position: relative;\n  z-index: 4;\n  background: #fff;\n  border-top: 1px solid #e0e0e0;\n  border-bottom: 1px solid #e0e0e0;\n  -webkit-box-shadow: 0 5px 5px rgba(0,0,0,.07);\n  box-shadow: 0 5px 5px rgba(0,0,0,.07);\n}\n\n.shopping-cart .product-box .nav-bar{\n  position: relative;\n  height: 80px;\n  width: 100%;\n  margin-top: 0;\n  color: #616161;\n  border-bottom: 1px solid #ff6700;\n\n}\n\n.shopping-cart .nav-bar .container{\n  position: relative;\n  width: 80%;\n  min-width: 1226px;\n  margin-right: auto;\n  margin-left: auto;\n  text-align: left;\n}\n\n.shopping-cart .nav-bar .container .logo:hover{\n  animation: myAnimation 3s;\n}\n\n@keyframes myAnimation\n{\n  0%   {transform:rotateY(0deg) scale(.9,.9);}\n  50%  {transform:rotateY(180deg) scale(.9,.9);}\n  100% {transform:rotateY(360deg) scale(.9,.9);}\n}\n\n.shopping-cart .nav-bar .container h2{\n  margin: 0;\n  font-size: 28px;\n  font-weight: 400;\n  line-height: 60px;\n  color: #424242;\n  display: inline-block;\n}\n\n.shopping-cart .nav-bar .container .tip{\n  display: inline-block;\n  margin-left: 20px;\n  font-size: 15px;\n  margin-top: 21px;\n}\n\n.shopping-cart .nav-bar  div span{\n  font-size: 12px;\n  color: #757575;\n}\n\n.shopping-cart .page-main{\n  min-height: 65vh;\n  padding: 30px 0;\n}\n\n.shopping-cart .page-main .cart-info{\n  margin: 0 auto;\n  width: 80%;\n  min-height: 65vh;\n  min-width: 1170px;\n}\n\n/*表格属性*/\n.shopping-cart .el-table-column--selection .cell{\n  padding-left: 9px;\n}\n.shopping-cart .el-table th.gutter{\n  display: table-cell!important;\n}\n\n.shopping-cart .el-table th{\n  height: 70px;\n}\n\n\n.shopping-cart .el-table th .cell{\n  text-align: center;\n  color: #424242;\n}\n\n.shopping-cart .el-table__body td{\n  text-align: center;\n  color: #424242;\n  font-size: 16px;\n}\n.shopping-cart .cart-info .product-name{\n  text-align: left;\n  vertical-align: middle;\n}\n\n.shopping-cart .cart-info .product-name .product-img{\n  width: 80px;\n  height: 80px;\n  margin: 10px 10px 10px 0;\n  vertical-align: middle;\n}\n\n.shopping-cart .cart-info .product-name  .name{\n  font-size: 18px;\n  font-weight: 400;\n  color: #424242;\n  white-space:nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n\n.shopping-cart .cart-info .cart-bar{\n  position: relative;\n  margin: 20px 0;\n  width: 100%;\n  height: 50px;\n  background-color: #fff;\n  -webkit-transition: background .3s ease,top .3s ease;\n  transition: background .3s ease,top .3s ease;\n  line-height: 50px;\n}\n\n.shopping-cart .cart-info .cart-bar .section-left{\n  position: absolute;\n  line-height: 50px;\n  margin-left: 32px;\n  left: 0;\n}\n\n.shopping-cart .cart-info .cart-bar .section-left span{\n  font-size: 14px;\n  color: #757575\n}\n\n.shopping-cart .cart-info .cart-bar .section-left .to-shop:hover{\n  color: #ff6700;\n\n}\n\n.shopping-cart .cart-info .cart-bar .section-right{\n  position: absolute;\n  right: 0;\n}\n\n.shopping-cart .cart-info .cart-bar .section-right .total{\n  position: absolute;\n  top: 0;\n  right: 170px;\n  height: 50px;\n  width: 200px;\n  text-align: right;\n  margin-left: 20px;\n  color: #FF6700;\n  font-size: 14px;\n}\n\n.shopping-cart .cart-info .cart-bar .section-right .button{\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 50px;\n  width: 150px;\n}\n\n\n.shopping-cart .page-main .empty-cart-top{\n  height: 273px;\n  padding-left: 50%;\n  margin: 65px 0 130px;\n  background: url(https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/cart-empty.png) no-repeat 30% 0;\n  color: #b0b0b0;\n  overflow: hidden;\n  text-align: left;\n}\n\n.shopping-cart .page-main .empty-cart-top h2{\n  margin: 70px 0 0 0;\n  font-size: 36px;\n}\n\n.shopping-cart .page-main .empty-cart-top .el-button{\n  margin: 15px 0 0;\n  width: 170px;\n  height: 46px;\n  font-size: 18px;\n}\n\n.shopping-cart .address-dialog .el-dialog__body{\n  padding: 30px 80px;\n}\n\n.shopping-cart .el-form-item__error{\n  padding-left: 74px;\n}\n\n.shopping-cart .order-form .el-form-item__label{\n  width: 88px;\n}\n\n.shopping-cart .order-form .el-input{\n  width: 80%;\n}\n.shopping-cart .order-form .el-form-item__error{\n  padding-left: 100px;\n}\n\n.shopping-cart .order-form .discount-price .el-input__inner{\n  color: red;\n}\n\n.shopping-cart .clear-cart{\n  position: fixed;\n  right: 4%;\n  bottom: 6%;\n  z-index: 9999;\n}\n\n.shopping-cart .clear-cart .el-icon-delete-solid{\n  font-size: 22px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/ShoppingCart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopping-cart\"},[(this.tableData && _vm.tableData.length!==0)?_c('el-button',{staticClass:\"clear-cart\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-delete-solid\",\"title\":\"清空购物车\",\"circle\":\"\"},on:{\"click\":_vm.clearCart}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"product-box\"},[_c('div',{staticClass:\"nav-bar\"},[_c('div',{staticClass:\"container\"},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":\"/MallHome\",\"title\":\"花卷官网\"}},[_c('el-image',{staticClass:\"logo\",staticStyle:{\"width\":\"55px\",\"height\":\"55px\",\"margin-top\":\"10px\",\"margin-right\":\"15px\"},attrs:{\"src\":\"https://spring-oss.oss-cn-beijing.aliyuncs.com/images/img/lg.png\"}})],1),_vm._v(\" \"),_vm._m(0)],1)])]),_vm._v(\" \"),(_vm.tableData)?_c('div',{staticClass:\"page-main\"},[(_vm.tableData.length!==0)?_c('div',{staticClass:\"cart-info\"},[_c('el-table',{ref:\"cartTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"tooltip-effect\":\"dark\",\"highlight-current-row\":false},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":'/MallPurchase?id='+scope.row.productId}},[_c('div',{staticClass:\"product-name\"},[_c('el-image',{staticClass:\"product-img\",attrs:{\"src\":scope.row.productUrl}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(scope.row.productName))])],1)])]}}],null,false,3707555281)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productSpecs\",\"label\":\"规格\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单价\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.productPrice)+\"元\")])]}}],null,false,1148243720)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input-number',{attrs:{\"size\":\"small\",\"min\":1,\"max\":scope.row.productStock},on:{\"change\":function($event){return _vm.calculationPrice(scope.$index)}},model:{value:(scope.row.payAmount),callback:function ($$v) {_vm.$set(scope.row, \"payAmount\", $$v)},expression:\"scope.row.payAmount\"}})]}}],null,false,2385296710)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"会员折扣\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.discount===100)?_c('span',[_vm._v(\"无\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(scope.row.discount)+\"折\")])]}}],null,false,3467878154)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"小计\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"#ff6700\"}},[_vm._v(_vm._s(scope.row.totalPrice)+\"元\")])]}}],null,false,3493584861)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deleteProduct(scope.$index)}}})]}}],null,false,68031349)})],1),_vm._v(\" \"),_c('div',{staticClass:\"cart-bar\"},[_c('div',{staticClass:\"section-left\"},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":\"/MallHome\"}},[_c('span',{staticClass:\"to-shop\"},[_vm._v(\"\\n              继续购物\\n            \")])]),_vm._v(\" \"),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n            共\\n            \"),_c('span',{staticStyle:{\"color\":\"#FF6700\"}},[_vm._v(_vm._s(this.tableData.length))]),_vm._v(\"\\n            件商品，已选择\\n            \"),_c('span',{staticStyle:{\"color\":\"#FF6700\"}},[_vm._v(_vm._s(this.selectedData.length))]),_vm._v(\"\\n            件\\n          \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"section-right\"},[_c('span',{staticClass:\"total\"},[_vm._v(\"\\n            合计：\\n            \"),_c('span',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(_vm._s(_vm.summation))]),_vm._v(\"\\n            元\\n          \")]),_vm._v(\" \"),(_vm.selectedData)?_c('el-tooltip',{attrs:{\"content\":\"请勾选需要结算的商品\",\"disabled\":_vm.selectedData.length!==0,\"placement\":\"top\",\"effect\":\"light\"}},[_c('div',{staticClass:\"button\"},[_c('el-button',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"type\":\"danger\",\"disabled\":_vm.selectedData.length===0},on:{\"click\":_vm.buy}},[_vm._v(\"去结算\")])],1)]):_vm._e()],1)])],1):_c('div',{staticClass:\"empty-cart-top\"},[_c('h2',[_vm._v(\"\\n        您的购物车还是空的！\\n      \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.goShopping}},[_vm._v(\"马上去购物\")])],1)]):_vm._e(),_vm._v(\" \"),_c('el-dialog',{staticClass:\"address-dialog\",attrs:{\"title\":\"收货地址\",\"width\":\"450px\",\"visible\":_vm.addressFormVisible},on:{\"update:visible\":function($event){_vm.addressFormVisible=$event}}},[_c('el-form',{ref:\"addressForm\",attrs:{\"model\":_vm.addressForm,\"rules\":_vm.addressRules}},[_c('el-form-item',{attrs:{\"label\":\"所在地区\",\"prop\":\"selectedOptions\"}},[_c('el-cascader',{attrs:{\"size\":\"large\",\"options\":_vm.options,\"separator\":\" \"},model:{value:(_vm.addressForm.selectedOptions),callback:function ($$v) {_vm.$set(_vm.addressForm, \"selectedOptions\", $$v)},expression:\"addressForm.selectedOptions\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"详细地址\",\"prop\":\"detailAddress\"}},[_c('el-input',{staticStyle:{\"width\":\"auto\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.addressForm.detailAddress),callback:function ($$v) {_vm.$set(_vm.addressForm, \"detailAddress\", $$v)},expression:\"addressForm.detailAddress\"}},[_c('i',{staticClass:\"el-icon-edit el-input__icon\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addressFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('addressForm')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"订单信息\",\"visible\":_vm.orderFormVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.orderFormVisible=$event}}},[_c('el-form',{ref:\"order\",staticClass:\"order-form\",attrs:{\"model\":_vm.baseInfo,\"rules\":_vm.baseInfoRules}},[_c('el-form-item',{attrs:{\"label\":\"收货人\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.baseInfo.userName),callback:function ($$v) {_vm.$set(_vm.baseInfo, \"userName\", $$v)},expression:\"baseInfo.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系方式\",\"prop\":\"contactWay\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.baseInfo.contactWay),callback:function ($$v) {_vm.$set(_vm.baseInfo, \"contactWay\", $$v)},expression:\"baseInfo.contactWay\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"position\":\"relative\"},attrs:{\"label\":\"收货地址\",\"prop\":\"acceptAddress\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.baseInfo.acceptAddress),callback:function ($$v) {_vm.$set(_vm.baseInfo, \"acceptAddress\", $$v)},expression:\"baseInfo.acceptAddress\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"top\":\"1px\",\"right\":\"14px\",\"border\":\"none\"},attrs:{\"plain\":\"\"},on:{\"click\":function($event){_vm.addressFormVisible=true}}},[_vm._v(\"修改\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"预计支付\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.baseInfo.payMoney+' 元'),callback:function ($$v) {_vm.$set(_vm.baseInfo, \"payMoney+' 元'\", $$v)},expression:\"baseInfo.payMoney+' 元'\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.createOrder('order')}}},[_vm._v(\"付 款\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.orderFormVisible = false}}},[_vm._v(\"取 消\")])],1)],1),_vm._v(\" \"),_c('MallFooter')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"inline-block\",\"position\":\"absolute\",\"top\":\"15px\"}},[_c('h2',[_vm._v(\"我的购物车\")]),_vm._v(\" \"),_c('div',{staticClass:\"tip\"},[_c('span',[_vm._v(\"温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40532d5c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/ShoppingCart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40532d5c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShoppingCart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShoppingCart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShoppingCart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40532d5c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShoppingCart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/ShoppingCart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}