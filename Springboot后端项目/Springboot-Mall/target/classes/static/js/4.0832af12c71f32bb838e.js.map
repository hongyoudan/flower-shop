{"version":3,"sources":["webpack:///src/components/operate/ResetPwd_Form.vue","webpack:///./src/components/operate/ResetPwd_Form.vue?a7fa","webpack:///./src/components/operate/ResetPwd_Form.vue","webpack:///src/components/util/SIdentify.vue","webpack:///./src/components/util/SIdentify.vue?f385","webpack:///./src/components/util/SIdentify.vue","webpack:///src/components/util/AuthCode.vue","webpack:///./src/components/util/AuthCode.vue?20ab","webpack:///./src/components/util/AuthCode.vue"],"names":["ResetPwd_Form","name","components","AuthCode","data","_this","this","dialogVisible","sendCodeIsUsed","show","count","timer","loadForm","mailbox","authcode","password","repeatPassword","rules","validator","rule","value","callback","length","Error","RegExp","test","$http","post","then","res","code","catch","err","console","log","trigger","methods","send","_this2","setInterval","clearInterval","submitCode","_this3","$refs","child","submitForm","resetForm","loading","$loading","lock","text","background","close","$msg","success","message","warning","error","cancelCode","formName","_this4","validate","valid","showClose","duration","$router","push","operate_ResetPwd_Form","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","prop","autocomplete","placeholder","nativeOn","keyup","$event","type","indexOf","_k","keyCode","key","$$v","$set","expression","slot","_v","staticStyle","text-align","width","auto-complete","maxlength","position","margin","plain","size","disabled","on","click","directives","rawName","_s","title","visible","top","modal","update:visible","margin-bottom","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","SIdentify","props","identifyCode","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","contentWidth","contentHeight","randomNum","min","max","Math","floor","random","randomColor","drawPic","ctx","document","getElementById","getContext","textBaseline","fillStyle","fillRect","i","drawText","drawLine","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","watch","mounted","util_SIdentify","id","height","isCodeTrue","codeForm","verifyCode","identifyCodes","loginRules","required","created","makeCode","computed","resetFields","refreshCode","o","l","util_AuthCode","user-select","inline","status-icon","label-width","submit","preventDefault","margin-right","AuthCode_Component","AuthCode_normalizeComponent"],"mappings":"qJAkDAA,GACAC,KAAA,gBACAC,YAAAC,mBAAA,GACAC,KAHA,WAGA,IAAAC,EAAAC,KAyDA,OACAC,eAAA,EACAC,gBAAA,EACAC,MAAA,EACAC,MAAA,GACAC,MAAA,KACAC,UACAC,QAAA,GACAC,SAAA,GACAC,SAAA,GACAC,eAAA,IAGAC,OACAJ,UACAK,UAvEA,SAAAC,EAAAC,EAAAC,GACA,OAAAD,EAAAE,OACAjB,EAAAG,gBAAA,EACAa,EAAA,IAAAE,MAAA,cACA,CAEA,IADA,IAAAC,OAAA,0DACAC,KAAAL,GAEA,OADAf,EAAAG,gBAAA,EACAa,EAAA,IAAAE,MAAA,WAEAlB,EAAAqB,MAAAC,KAAA,kCAAAP,GAAAQ,KAAA,SAAAC,GACA,MAAAA,EAAAzB,KAAA0B,OACAD,EAAAzB,WAIAC,EAAAG,gBAAA,EACAa,MAJAhB,EAAAG,gBAAA,EACAa,EAAA,IAAAE,MAAA,cAMAQ,MAAA,SAAAC,GAAAC,QAAAC,IAAAF,OAmDAG,QAAA,SAEArB,WACAI,UAlDA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAE,MAAA,WAEAF,KA8CAc,QAAA,SAEApB,WACAG,UA9CA,SAAAC,EAAAC,EAAAC,GACA,OAAAD,EAAAE,OACAD,EAAA,IAAAE,MAAA,cACA,CAEA,IADA,IAAAC,OAAA,iCACAC,KAAAL,GACA,OAAAC,EAAA,IAAAE,MAAA,0BAEAF,IAEAA,MAoCAc,QAAA,SAEAnB,iBACAE,UApCA,SAAAC,EAAAC,EAAAC,GACA,OAAAD,EAAAE,OACAD,EAAA,IAAAE,MAAA,gBACA,CACA,GAAAlB,EAAAO,SAAAG,WAAAV,EAAAO,SAAAI,eACA,OAAAK,EAAA,IAAAE,MAAA,cAEAF,IAEAA,MA2BAc,QAAA,YAKAC,SACAC,KADA,WACA,IAAAC,EAAAhC,KACAA,KAAAK,QACAL,KAAAI,MA7FA,GA8FAJ,KAAAG,MAAA,EACAH,KAAAK,MAAA4B,YAAA,WACAD,EAAA5B,MAAA,GAAA4B,EAAA5B,OAhGA,GAiGA4B,EAAA5B,SAEA4B,EAAA7B,MAAA,EACA+B,cAAAF,EAAA3B,OACA2B,EAAA3B,MAAA,OAEA,OAGA8B,WAhBA,WAgBA,IAAAC,EAAApC,KACA,GAAAA,KAAAqC,MAAAC,MAAAC,WAAA,aACAvC,KAAAC,eAAA,EACAD,KAAAqC,MAAAC,MAAAE,UAAA,YACA,IAAAC,EAAAzC,KAAA0C,UAAAC,MAAA,EAAAC,KAAA,SAAAC,WAAA,0BACA7C,KAAAoB,MAAAC,KAAA,8BAAArB,KAAAM,SAAAC,SAAAe,KAAA,SAAAC,GACAkB,EAAAK,QACA,MAAAvB,EAAAzB,KAAA0B,MACAY,EAAAL,OACAK,EAAAlC,gBAAA,EACAkC,EAAAW,KAAAC,QAAAzB,EAAAzB,KAAAmD,UACA,MAAA1B,EAAAzB,KAAA0B,MACAY,EAAAW,KAAAG,QAAA3B,EAAAzB,KAAAmD,WAEAxB,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAe,EAAAK,QACAV,EAAAW,KAAAI,MAAA,WAAAzB,OAIA0B,WArCA,WAsCApD,KAAAqC,MAAAC,MAAAE,UAAA,YACAxC,KAAAC,eAAA,GAEAsC,WAzCA,SAyCAc,GAAA,IAAAC,EAAAtD,KACAA,KAAAqC,MAAAgB,GAAAE,SAAA,SAAAC,GACA,IAAAA,EAaA,SAZAF,EAAAlC,MAAAC,KAAA,iCAAAiC,EAAAhD,SAAAC,QAAA,aAAA+C,EAAAhD,SAAAG,UAAAa,KAAA,SAAAC,GACA,MAAAA,EAAAzB,KAAA0B,MACA8B,EAAAP,KAAAC,SAAAC,QAAA1B,EAAAzB,KAAAmD,QAAAQ,WAAA,EAAAC,SAAA,OACAJ,EAAAlC,MAAAC,KAAA,kCAAAiC,EAAAhD,SAAAC,QAAA,QAAA+C,EAAAhD,SAAAG,UACA6C,EAAAK,QAAAC,KAAA,eAEAN,EAAAP,KAAAG,SAAAD,QAAA1B,EAAAzB,KAAAmD,QAAAQ,WAAA,EAAAC,SAAA,SAEAjC,MAAA,SAAAC,GACA4B,EAAAP,KAAAI,OAAAF,QAAA,UAAAvB,EAAA+B,WAAA,EAAAC,SAAA,cC7LeG,GADEC,OAFjB,WAA0B,IAAAC,EAAA/D,KAAagE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,WAAgBG,IAAA,WAAAD,YAAA,oBAAAE,OAAsDC,MAAAR,EAAAzD,SAAAK,MAAAoD,EAAApD,SAAwCuD,EAAA,gBAAqBI,OAAOE,KAAA,aAAkBN,EAAA,YAAiBE,YAAA,WAAAE,OAA8BG,aAAA,KAAAC,YAAA,WAA4CC,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAAC,KAAAC,QAAA,QAAAhB,EAAAiB,GAAAH,EAAAI,QAAA,WAAAJ,EAAAK,IAAA,SAAsF,KAAenB,EAAAxB,WAAA,cAAmCgC,OAAQzD,MAAAiD,EAAAzD,SAAA,QAAAS,SAAA,SAAAoE,GAAsDpB,EAAAqB,KAAArB,EAAAzD,SAAA,UAAA6E,IAAuCE,WAAA,sBAAgCnB,EAAA,KAAUE,YAAA,iCAAAE,OAAoDgB,KAAA,UAAgBA,KAAA,cAAe,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,gBAAuCsB,aAAaC,aAAA,QAAoBnB,OAAQE,KAAA,cAAmBN,EAAA,YAAiBE,YAAA,WAAAoB,aAAoCE,MAAA,OAAcpB,OAAQqB,gBAAA,iBAAAC,UAAA,IAAAnB,aAAA,MAAAC,YAAA,YAA+FC,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAAC,KAAAC,QAAA,QAAAhB,EAAAiB,GAAAH,EAAAI,QAAA,WAAAJ,EAAAK,IAAA,SAAsF,KAAenB,EAAAxB,WAAA,cAAmCgC,OAAQzD,MAAAiD,EAAAzD,SAAA,SAAAS,SAAA,SAAAoE,GAAuDpB,EAAAqB,KAAArB,EAAAzD,SAAA,WAAA6E,IAAwCE,WAAA,uBAAiCnB,EAAA,KAAUE,YAAA,oCAAAE,OAAuDgB,KAAA,UAAgBA,KAAA,aAAevB,EAAAwB,GAAA,KAAArB,EAAA,aAAgCsB,aAAaK,SAAA,WAAAC,OAAA,UAAAJ,MAAA,QAAwDpB,OAAQQ,KAAA,UAAAiB,MAAA,GAAAC,KAAA,QAAAC,UAAAlC,EAAA7D,gBAA0EgG,IAAKC,MAAA,SAAAtB,GAAyBd,EAAA9D,eAAA,MAA2BiE,EAAA,QAAakC,aAAazG,KAAA,OAAA0G,QAAA,SAAAvF,MAAAiD,EAAA,KAAAsB,WAAA,WAAkEtB,EAAAwB,GAAA,WAAAxB,EAAAwB,GAAA,KAAArB,EAAA,QAA2CkC,aAAazG,KAAA,OAAA0G,QAAA,SAAAvF,OAAAiD,EAAA5D,KAAAkF,WAAA,UAAkEjB,YAAA,UAAsBL,EAAAwB,GAAA,MAAAxB,EAAAuC,GAAAvC,EAAA3D,OAAA,cAAA2D,EAAAwB,GAAA,KAAArB,EAAA,aAA2EI,OAAOiC,MAAA,SAAAC,QAAAzC,EAAA9D,cAAAyF,MAAA,MAAAe,IAAA,IAAAC,OAAA,GAAmFR,IAAKS,iBAAA,SAAA9B,GAAkCd,EAAA9D,cAAA4E,MAA2BX,EAAA,QAAAA,EAAA,YAA4BG,IAAA,WAAY,GAAAN,EAAAwB,GAAA,KAAArB,EAAA,QAA6BE,YAAA,gBAAAE,OAAmCgB,KAAA,UAAgBA,KAAA,WAAepB,EAAA,aAAkBgC,IAAIC,MAAApC,EAAAX,cAAwBW,EAAAwB,GAAA,SAAAxB,EAAAwB,GAAA,KAAArB,EAAA,aAA8CI,OAAOQ,KAAA,WAAiBoB,IAAKC,MAAApC,EAAA5B,cAAwB4B,EAAAwB,GAAA,eAAAxB,EAAAwB,GAAA,KAAArB,EAAA,gBAAuDI,OAAOE,KAAA,cAAmBN,EAAA,YAAiBE,YAAA,WAAAE,OAA8BG,aAAA,MAAAK,KAAA,WAAAJ,YAAA,oBAAwEC,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAAC,KAAAC,QAAA,QAAAhB,EAAAiB,GAAAH,EAAAI,QAAA,WAAAJ,EAAAK,IAAA,SAAsF,KAAenB,EAAAxB,WAAA,cAAmCgC,OAAQzD,MAAAiD,EAAAzD,SAAA,SAAAS,SAAA,SAAAoE,GAAuDpB,EAAAqB,KAAArB,EAAAzD,SAAA,WAAA6E,IAAwCE,WAAA,uBAAiCnB,EAAA,KAAUE,YAAA,8BAAAE,OAAiDgB,KAAA,UAAgBA,KAAA,cAAe,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,gBAAuCsB,aAAaoB,gBAAA,QAAuBtC,OAAQE,KAAA,oBAAyBN,EAAA,YAAiBE,YAAA,WAAAE,OAA8BG,aAAA,MAAAK,KAAA,WAAAJ,YAAA,WAA+DC,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAAC,KAAAC,QAAA,QAAAhB,EAAAiB,GAAAH,EAAAI,QAAA,WAAAJ,EAAAK,IAAA,SAAsF,KAAenB,EAAAxB,WAAA,cAAmCgC,OAAQzD,MAAAiD,EAAAzD,SAAA,eAAAS,SAAA,SAAAoE,GAA6DpB,EAAAqB,KAAArB,EAAAzD,SAAA,iBAAA6E,IAA8CE,WAAA,6BAAuCnB,EAAA,KAAUE,YAAA,8BAAAE,OAAiDgB,KAAA,UAAgBA,KAAA,cAAe,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,eAAsCI,OAAOuC,GAAA,gBAAmB3C,EAAA,KAAUE,YAAA,gBAA0BL,EAAAwB,GAAA,YAAAxB,EAAAwB,GAAA,KAAArB,EAAA,gBAAAA,EAAA,aAAoEE,YAAA,iBAAAE,OAAoCQ,KAAA,UAAAiB,MAAA,IAA4BG,IAAKC,MAAA,SAAAtB,GAAyB,OAAAd,EAAAxB,WAAA,gBAAoCwB,EAAAwB,GAAA,uBAE52HuB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvH,EACAmE,GATF,EAVA,SAAAqD,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB,gECnBhC,IAAAK,GACAzH,KAAA,YACA0H,OACAC,cACAxC,KAAAyC,OACAC,QAAA,QAEAC,aACA3C,KAAA4C,OACAF,QAAA,IAEAG,aACA7C,KAAA4C,OACAF,QAAA,IAEAI,oBACA9C,KAAA4C,OACAF,QAAA,KAEAK,oBACA/C,KAAA4C,OACAF,QAAA,KAEAM,UACAhD,KAAA4C,OACAF,QAAA,IAEAO,UACAjD,KAAA4C,OACAF,QAAA,KAEAQ,cACAlD,KAAA4C,OACAF,QAAA,IAEAS,cACAnD,KAAA4C,OACAF,QAAA,KAEAU,cACApD,KAAA4C,OACAF,QAAA,IAEAW,eACArD,KAAA4C,OACAF,QAAA,KAGA1F,SACAsG,UADA,SACAC,EAAAC,GACA,OAAAC,KAAAC,MAAAD,KAAAE,UAAAH,EAAAD,OAGAK,YALA,SAKAL,EAAAC,GAIA,aAHAtI,KAAAoI,UAAAC,EAAAC,GAGA,IAFAtI,KAAAoI,UAAAC,EAAAC,GAEA,IADAtI,KAAAoI,UAAAC,EAAAC,GACA,KAEAK,QAXA,WAYA,IACAC,EADAC,SAAAC,eAAA,YACAC,WAAA,MACAH,EAAAI,aAAA,SAEAJ,EAAAK,UAAAjJ,KAAA0I,YACA1I,KAAA4H,mBACA5H,KAAA6H,oBACAe,EAAAM,SAAA,IAAAlJ,KAAAkI,aAAAlI,KAAAmI,eAEA,QAAAgB,EAAA,EAAAA,EAAAnJ,KAAAsH,aAAAtG,OAAAmI,IACAnJ,KAAAoJ,SAAAR,EAAA5I,KAAAsH,aAAA6B,MAEAnJ,KAAAqJ,SAAAT,IAEAQ,SA1BA,SA0BAR,EAAAU,EAAAH,GACAP,EAAAK,UAAAjJ,KAAA0I,YAAA1I,KAAA8H,SAAA9H,KAAA+H,UACAa,EAAAW,KAAAvJ,KAAAoI,UAAApI,KAAAyH,YAAAzH,KAAA2H,aAAA,eACA,IAAA6B,GAAAL,EAAA,IAAAnJ,KAAAkI,cAAAlI,KAAAsH,aAAAtG,OAAA,IACAyI,EAAAzJ,KAAAoI,UAAApI,KAAA2H,YAAA3H,KAAAmI,cAAA,GACAuB,EAAA1J,KAAAoI,WAAA,OAEAQ,EAAAe,UAAAH,EAAAC,GACAb,EAAAgB,OAAAF,EAAAnB,KAAAsB,GAAA,KACAjB,EAAAkB,SAAAR,EAAA,KAEAV,EAAAgB,QAAAF,EAAAnB,KAAAsB,GAAA,KACAjB,EAAAe,WAAAH,GAAAC,IAEAJ,SAxCA,SAwCAT,GAEA,QAAAO,EAAA,EAAAA,EAAA,EAAAA,IACAP,EAAAmB,YAAA/J,KAAA0I,YAAA1I,KAAAgI,aAAAhI,KAAAiI,cACAW,EAAAoB,YACApB,EAAAqB,OAAAjK,KAAAoI,UAAA,EAAApI,KAAAkI,cAAAlI,KAAAoI,UAAA,EAAApI,KAAAmI,gBACAS,EAAAsB,OAAAlK,KAAAoI,UAAA,EAAApI,KAAAkI,cAAAlI,KAAAoI,UAAA,EAAApI,KAAAmI,gBACAS,EAAAuB,WAIAC,OACA9C,aADA,WAEAtH,KAAA2I,YAGA0B,QAxGA,WAyGArK,KAAA2I,YC7Ge2B,GADExG,OAFjB,WAA0B,IAAaE,EAAbhE,KAAaiE,eAA0BC,EAAvClE,KAAuCmE,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,UAAeI,OAAOiG,GAAA,WAAA7E,MAA7H1F,KAA6HkI,aAAAsC,OAA7HxK,KAA6HmI,oBAEtIrB,oBCCjB,ICqBAjH,GACAF,KAAA,WACAG,KAFA,WAEA,IAAAC,EAAAC,KAaA,OACAyK,YAAA,EACAC,UACAC,WAAA,IAEAC,cAAA,aACAtD,aAAA,GACAuD,YACAF,aACAG,UAAA,EAAAjJ,QAAA,OAAAjB,UApBA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,GACAC,EAAA,IAAAE,MAAA,WACAlB,EAAA0K,YAAA,GACA3J,IAAAf,EAAAuH,cACAvH,EAAA0K,YAAA,EACA1J,EAAA,IAAAE,MAAA,YAEAF,UAiBAnB,YAEAwH,UDpDyBJ,EAAQ,OAcjCC,CACEG,EACAkD,GATF,EAVA,SAAApD,GACEF,EAAQ,SAaV,KAEA,MAUgC,SC+BhC+D,QAjCA,aAkCAV,QAlCA,WAoCArK,KAAAsH,aAAA,GACAtH,KAAAgL,SAAAhL,KAAA4K,cAAA,IAEAK,YACAnJ,SAEAS,WAFA,SAEAmI,GAAA,IAAA1I,EAAAhC,KAQA,OAPAA,KAAAqC,MAAAqI,GAAAnH,SAAA,SAAAC,GACA,IAAAA,EAGA,SAFAxB,EAAAyI,YAAA,IAKAzK,KAAAyK,YAEAjI,UAZA,SAYAkI,GACA1K,KAAAqC,MAAAqI,GAAAQ,eAGA9C,UAhBA,SAgBAC,EAAAC,GACA,OAAAC,KAAAC,MAAAD,KAAAE,UAAAH,EAAAD,OAGA8C,YApBA,WAqBAnL,KAAAsH,aAAA,GACAtH,KAAAgL,SAAAhL,KAAA4K,cAAA,IAGAI,SAzBA,SAyBAI,EAAAC,GACA,QAAAlC,EAAA,EAAAA,EAAAkC,EAAAlC,IACAnJ,KAAAsH,cAAAtH,KAAA4K,cAAA5K,KAAAoI,UAAA,EAAApI,KAAA4K,cAAA5J,YCxFesK,GADExH,OAFP,WAAgB,IAAAC,EAAA/D,KAAagE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAAoB,aAAsC+F,cAAA,UAAsBrH,EAAA,WAAgBG,IAAA,WAAAD,YAAA,aAAAE,OAA+CkH,OAAA,GAAAC,cAAA,GAAA9K,MAAAoD,EAAA8G,WAAAtG,MAAAR,EAAA2G,SAAAgB,cAAA,QAA8F/G,UAAWgH,OAAA,SAAA9G,GAA0BA,EAAA+G,qBAA2B1H,EAAA,gBAAqBsB,aAAaqG,eAAA,KAAmBvH,OAAQE,KAAA,gBAAqBN,EAAA,YAAiBsB,aAAa+F,cAAA,QAAqBjH,OAAQ0B,KAAA,QAAAtB,YAAA,UAAsCH,OAAQzD,MAAAiD,EAAA2G,SAAA,WAAA3J,SAAA,SAAAoE,GAAyDpB,EAAAqB,KAAArB,EAAA2G,SAAA,aAAAvF,IAA0CE,WAAA,0BAAmC,GAAAtB,EAAAwB,GAAA,KAAArB,EAAA,gBAAAA,EAAA,OAA+CE,YAAA,gBAA0BF,EAAA,OAAYgC,IAAIC,MAAApC,EAAAoH,eAAyBjH,EAAA,cAAmBI,OAAOgD,aAAAvD,EAAAuD,iBAAiC,GAAAvD,EAAAwB,GAAA,KAAArB,EAAA,aAAkCI,OAAOQ,KAAA,QAAcoB,IAAKC,MAAApC,EAAAoH,eAAyBpH,EAAAwB,GAAA,4BAEt6BuB,oBCChC,IAcIgF,EAdqB9E,EAAQ,OAcjB+E,CACdlM,EACAyL,GAT6B,EAV/B,SAAoBpE,GAClBF,EAAQ,SAaS,KAEU,MAUdG,EAAA,EAAA2E,EAAiB","file":"static/js/4.0832af12c71f32bb838e.js","sourcesContent":["<!--找回密码-->\r\n<template>\r\n  <div class=\"reset-pwd\">\r\n    <el-form class=\"demo-registerForm\" :model=\"loadForm\" :rules=\"rules\" ref=\"loadForm\">\r\n      <el-form-item prop=\"mailbox\">\r\n        <el-input class=\"el-input\" v-model=\"loadForm.mailbox\" @keyup.enter.native=\"submitForm('loadForm')\" autocomplete=\"on\" placeholder=\"请输入邮箱帐号\">\r\n          <i slot=\"prefix\" class=\"el-input__icon el-icon-message\"></i>\r\n        </el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item prop=\"authcode\" style=\"text-align: left;\">\r\n        <el-input class=\"el-input\" v-model=\"loadForm.authcode\" @keyup.enter.native=\"submitForm('loadForm')\" auto-complete=“new-accounts” style=\"width: 66%;\"  maxlength=\"6\" autocomplete=\"off\" placeholder=\"请输入邮箱验证码\">\r\n          <i slot=\"prefix\" class=\"el-input__icon el-icon-connection\"></i>\r\n        </el-input>\r\n        <el-button type=\"success\" plain size=\"small\" style=\"position: absolute;margin: 4px 6px;width: 88px;\" :disabled=\"!sendCodeIsUsed\" @click=\"dialogVisible = true\">\r\n          <span v-show=\"show\">获取验证码</span>\r\n          <span v-show=\"!show\" class=\"count\">重发({{count}}s)</span>\r\n        </el-button>\r\n      </el-form-item>\r\n      <el-dialog title=\"请输入验证码\" :visible.sync=\"dialogVisible\" width=\"90%\" top=\"0\" :modal=\"false\">\r\n        <span>\r\n          <AuthCode  ref=\"child\"></AuthCode>\r\n        </span>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"cancelCode\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitCode\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n\r\n      <el-form-item prop=\"password\">\r\n        <el-input class=\"el-input\"  v-model=\"loadForm.password\" @keyup.enter.native=\"submitForm('loadForm')\" autocomplete=\"off\" type=\"password\" placeholder=\"新密码：字母开头，6~20位字符\">\r\n          <i slot=\"prefix\" class=\"el-input__icon el-icon-lock\"></i>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"repeatPassword\" style=\"margin-bottom: 24px;\">\r\n        <el-input class=\"el-input\"  v-model=\"loadForm.repeatPassword\" @keyup.enter.native=\"submitForm('loadForm')\" autocomplete=\"off\" type=\"password\" placeholder=\"请输入确认密码\">\r\n          <i slot=\"prefix\" class=\"el-input__icon el-icon-lock\"></i>\r\n        </el-input>\r\n      </el-form-item>\r\n      <router-link to=\"/loginForm\"><a class=\"returnLogin\">返回登录</a></router-link>\r\n      <el-form-item>\r\n        <el-button class=\"el-form-button\" type=\"primary\" plain @click=\"submitForm('loadForm')\">重置密码</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthCode from \"../util/AuthCode\";\r\nconst TIME_COUNT = 60; //更改倒计时时间\r\nexport default {\r\n  name: \"Register_Form\",\r\n  components: {AuthCode},\r\n  data(){\r\n    let checkMail = (rule, value, callback) => {\r\n      if (value.length===0) {\r\n        this.sendCodeIsUsed=false;\r\n        callback(new Error('请输入邮箱'));\r\n      } else {\r\n        let reg = new RegExp(\"^[A-Za-z0-9.\\u4e00-\\u9fa5_]+@[a-zA-Z0-9_-]+(\\\\.[a-zA-Z0-9_-]+)+$\");\r\n        if (!reg.test(value)) {\r\n          this.sendCodeIsUsed=false;\r\n          return callback(new Error(\"邮箱格式错误\"));\r\n        } else {\r\n          this.$http.post(\"/allow/existUser?accountNumber=\"+value).then((res)=>{\r\n            if(res.data.code===200){\r\n              if(!res.data.data){\r\n                this.sendCodeIsUsed=false;\r\n                callback(new Error('帐号不存在'));\r\n              }else{\r\n                this.sendCodeIsUsed=true;\r\n                callback();\r\n              }\r\n            }\r\n          }).catch((err)=>{console.log(err)})\r\n        }\r\n      }\r\n    };\r\n    let checkCode = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入验证码'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    let checkPass = (rule, value, callback) => {\r\n      if (value.length===0) {\r\n        callback(new Error('请输入密码'));\r\n      } else {\r\n        let reg = new RegExp(\"^[a-zA-Z][a-zA-Z0-9_-]{5,18}$\");\r\n        if (!reg.test(value)) {\r\n          return callback(new Error(\"密码必须由数字和字母组合成,长度为6-18\"));\r\n        } else {\r\n          callback();\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    let checkRepPass = (rule, value, callback) => {\r\n      if (value.length===0) {\r\n        callback(new Error('请输入确认密码'));\r\n      } else {\r\n        if (this.loadForm.password!==this.loadForm.repeatPassword) {\r\n          return callback(new Error(\"两次密码输入不一致\"));\r\n        } else {\r\n          callback();\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      dialogVisible: false, //验证码框\r\n      sendCodeIsUsed:false, // 是否禁用发送验证码按钮\r\n      show: true,  // 初始启用按钮\r\n      count: '',   // 初始化次数\r\n      timer: null,\r\n      loadForm: {\r\n        mailbox:'',\r\n        authcode:'',\r\n        password: '',\r\n        repeatPassword:''\r\n      },\r\n\r\n      rules: {\r\n        mailbox:[\r\n          {validator: checkMail, trigger: 'blur'}\r\n        ],\r\n        authcode:[\r\n          {validator: checkCode, trigger: 'blur'}\r\n        ],\r\n        password: [\r\n          {validator: checkPass, trigger: 'blur'}\r\n        ],\r\n        repeatPassword:[\r\n          {validator: checkRepPass, trigger: 'blur'}\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    send(){\r\n      if (!this.timer) {\r\n        this.count = TIME_COUNT;\r\n        this.show = false;\r\n        this.timer = setInterval(() => {\r\n          if (this.count > 0 && this.count <= TIME_COUNT) {\r\n            this.count--;\r\n          } else {\r\n            this.show = true;\r\n            clearInterval(this.timer);  // 清除定时器\r\n            this.timer = null;\r\n          }\r\n        }, 1000)\r\n      }\r\n    },\r\n    submitCode(){\r\n      if(this.$refs.child.submitForm(\"codeForm\")){\r\n        this.dialogVisible = false\r\n        this.$refs.child.resetForm(\"codeForm\")\r\n        let loading = this.$loading({lock: true, text: \"验证码发送中\",background:\"rgba(255,255,255,0.1)\"});\r\n        this.$http.post(\"/allow/sendHtmlCode?sendTo=\"+this.loadForm.mailbox).then((res)=>{\r\n          loading.close();\r\n          if(res.data.code===200){\r\n            this.send();\r\n            this.sendCodeIsUsed=false;\r\n            this.$msg.success(res.data.message)\r\n          }else if(res.data.code===500){\r\n            this.$msg.warning(res.data.message)\r\n          }\r\n        }).catch((err)=>{\r\n          console.log(err);\r\n          loading.close();\r\n          this.$msg.error(\"验证码发送失败，\"+err)\r\n        })\r\n      }\r\n    },\r\n    cancelCode(){\r\n      this.$refs.child.resetForm(\"codeForm\")\r\n      this.dialogVisible = false\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.$http.post(\"/allow/resetpwd?accountNumber=\"+this.loadForm.mailbox+\"&password=\"+this.loadForm.password).then((res)=>{\r\n            if(res.data.code===200){//验证码存在，返回code 200\r\n              this.$msg.success({message:res.data.message, showClose: true, duration:1500});\r\n              this.$http.post(\"/allow/sendHtmlResetPwd?sendTo=\"+this.loadForm.mailbox+\"&pwd=\"+this.loadForm.password);\r\n              this.$router.push('/loginForm');\r\n            }else{  //验证码已过期，返回code 500\r\n              this.$msg.warning({message:res.data.message, showClose: true, duration:1500});\r\n            }\r\n          }).catch((err)=>{  //网络等原因，导致发送失败\r\n            this.$msg.error({message:'密码重置失败，'+err, showClose: true, duration:1500});\r\n          })\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .reset-pwd{\r\n    width: 80%;\r\n    margin: auto;\r\n    height: 100%\r\n  }\r\n\r\n  .reset-pwd .demo-registerForm{\r\n  height: 50%;\r\n  padding-top: 2%;\r\n  }\r\n  .reset-pwd .el-form-button{\r\n    display: block;\r\n    margin: auto;\r\n    width: 60%;\r\n  }\r\n  .reset-pwd .el-form-item{\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .reset-pwd .returnLogin{\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 35px;\r\n    top: 73%;\r\n    font-size: 13px;\r\n    color: rgb(147, 165, 255);\r\n  }\r\n  .reset-pwd .el-dialog{\r\n    position: absolute;\r\n    top: 31%;\r\n    left: 5%;\r\n    height: 40%;\r\n    border-radius: 25px;\r\n    margin: 0 auto;\r\n  }\r\n  .reset-pwd .el-dialog__body{\r\n    padding: 10px 20px 0;\r\n  }\r\n  .reset-pwd .el-dialog__footer{\r\n    padding: 0 20px 20px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/operate/ResetPwd_Form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reset-pwd\"},[_c('el-form',{ref:\"loadForm\",staticClass:\"demo-registerForm\",attrs:{\"model\":_vm.loadForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"mailbox\"}},[_c('el-input',{staticClass:\"el-input\",attrs:{\"autocomplete\":\"on\",\"placeholder\":\"请输入邮箱帐号\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('loadForm')}},model:{value:(_vm.loadForm.mailbox),callback:function ($$v) {_vm.$set(_vm.loadForm, \"mailbox\", $$v)},expression:\"loadForm.mailbox\"}},[_c('i',{staticClass:\"el-input__icon el-icon-message\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"text-align\":\"left\"},attrs:{\"prop\":\"authcode\"}},[_c('el-input',{staticClass:\"el-input\",staticStyle:{\"width\":\"66%\"},attrs:{\"auto-complete\":\"“new-accounts”\",\"maxlength\":\"6\",\"autocomplete\":\"off\",\"placeholder\":\"请输入邮箱验证码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('loadForm')}},model:{value:(_vm.loadForm.authcode),callback:function ($$v) {_vm.$set(_vm.loadForm, \"authcode\", $$v)},expression:\"loadForm.authcode\"}},[_c('i',{staticClass:\"el-input__icon el-icon-connection\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"margin\":\"4px 6px\",\"width\":\"88px\"},attrs:{\"type\":\"success\",\"plain\":\"\",\"size\":\"small\",\"disabled\":!_vm.sendCodeIsUsed},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_vm._v(\"获取验证码\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticClass:\"count\"},[_vm._v(\"重发(\"+_vm._s(_vm.count)+\"s)\")])])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"请输入验证码\",\"visible\":_vm.dialogVisible,\"width\":\"90%\",\"top\":\"0\",\"modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_c('AuthCode',{ref:\"child\"})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelCode}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitCode}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{staticClass:\"el-input\",attrs:{\"autocomplete\":\"off\",\"type\":\"password\",\"placeholder\":\"新密码：字母开头，6~20位字符\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('loadForm')}},model:{value:(_vm.loadForm.password),callback:function ($$v) {_vm.$set(_vm.loadForm, \"password\", $$v)},expression:\"loadForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"24px\"},attrs:{\"prop\":\"repeatPassword\"}},[_c('el-input',{staticClass:\"el-input\",attrs:{\"autocomplete\":\"off\",\"type\":\"password\",\"placeholder\":\"请输入确认密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('loadForm')}},model:{value:(_vm.loadForm.repeatPassword),callback:function ($$v) {_vm.$set(_vm.loadForm, \"repeatPassword\", $$v)},expression:\"loadForm.repeatPassword\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/loginForm\"}},[_c('a',{staticClass:\"returnLogin\"},[_vm._v(\"返回登录\")])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"el-form-button\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.submitForm('loadForm')}}},[_vm._v(\"重置密码\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-051fa521\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/operate/ResetPwd_Form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-051fa521\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResetPwd_Form.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPwd_Form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPwd_Form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-051fa521\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResetPwd_Form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/operate/ResetPwd_Form.vue\n// module id = null\n// module chunks = ","<!--生成验证码图片组件-->\r\n<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SIdentify',\r\n  props: {\r\n    identifyCode: {\r\n      type: String,\r\n      default: '1234'\r\n    },\r\n    fontSizeMin: {\r\n      type: Number,\r\n      default: 25\r\n    },\r\n    fontSizeMax: {\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    backgroundColorMin: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    backgroundColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    colorMin: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    colorMax: {\r\n      type: Number,\r\n      default: 160\r\n    },\r\n    lineColorMin: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    lineColorMax: {\r\n      type: Number,\r\n      default: 180\r\n    },\r\n    contentWidth: {\r\n      type: Number,\r\n      default: 90\r\n    },\r\n    contentHeight: {\r\n      type: Number,\r\n      default: 38\r\n    }\r\n  },// 生成一个随机数\r\n  methods: {\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 生成一个随机的颜色\r\n    randomColor(min, max) {\r\n      let r = this.randomNum(min, max)\r\n      let g = this.randomNum(min, max)\r\n      let b = this.randomNum(min, max)\r\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n    },\r\n    drawPic() {\r\n      let canvas = document.getElementById('s-canvas')\r\n      let ctx = canvas.getContext('2d')\r\n      ctx.textBaseline = 'bottom'\r\n      // 绘制背景\r\n      ctx.fillStyle = this.randomColor(\r\n        this.backgroundColorMin,\r\n        this.backgroundColorMax)\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      // 绘制文字\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n    },\r\n    drawText(ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) +'px 黑体 border';\r\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      let y = this.randomNum(this.fontSizeMax,this.contentHeight - 5)\r\n      let deg = this.randomNum(-45, 45)\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y)\r\n      ctx.rotate(deg * Math.PI / 180)\r\n      ctx.fillText(txt, 0, 0)\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 180)\r\n      ctx.translate(-x, -y)\r\n    },\r\n    drawLine(ctx) {\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 2; i++) {\r\n        ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.lineTo(this.randomNum(0, this.contentWidth),this.randomNum(0, this.contentHeight))\r\n        ctx.stroke()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode() {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawPic()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.s-canvas {\r\n  height: 38px;\r\n\r\n}\r\n.s-canvas canvas{\r\n  margin-top: 1px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/util/SIdentify.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-84a9b296\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/util/SIdentify.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-84a9b296\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SIdentify.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SIdentify.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SIdentify.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84a9b296\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SIdentify.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/util/SIdentify.vue\n// module id = null\n// module chunks = ","<!--验证码组件-->\r\n<template>\r\n  <div class=\"randomised\" style=\"user-select: none\">\r\n    <el-form inline class=\"login-form\" status-icon :rules=\"loginRules\" ref=\"codeForm\" @submit.native.prevent :model=\"codeForm\" label-width=\"50px\">\r\n      <!-- 随机验证码 输入框 -->\r\n      <el-form-item prop=\"verifyCode\" style=\"margin-right:0\">\r\n        <el-input v-model=\"codeForm.verifyCode\" size=\"small\" placeholder=\"请输入验证码\"  style=\"user-select: text\"></el-input>\r\n      </el-form-item>\r\n      <!-- 随机验证码 -->\r\n      <el-form-item>\r\n        <div class=\"identifyBox\">\r\n          <div @click=\"refreshCode\">\r\n            <s-identify :identifyCode=\"identifyCode\"></s-identify>\r\n          </div>\r\n          <!-- 刷新验证码 -->\r\n          <el-button @click=\"refreshCode\" type='text'>看不清，换一张</el-button>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SIdentify from './SIdentify'\r\nexport default {\r\n  name: 'AuthCode',\r\n  data() {\r\n    // 自定义验证规则：验证码验证规则\r\n    const validateVerifyCode = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入验证码'))\r\n        this.isCodeTrue=false;\r\n      } else if (value !== this.identifyCode) {\r\n        this.isCodeTrue=false;\r\n        callback(new Error('验证码不正确'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      isCodeTrue:false,\r\n      codeForm: {\r\n        verifyCode: ''\r\n      },\r\n      identifyCodes: '1234567890',\r\n      identifyCode: '',\r\n      loginRules: {\r\n        verifyCode: [\r\n          { required: true, trigger: 'blur', validator: validateVerifyCode },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    // 注册绘制随机验证码的组件\r\n    SIdentify\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    // 验证码初始化\r\n    this.identifyCode = ''\r\n    this.makeCode(this.identifyCodes, 4)\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    //提交表单\r\n    submitForm(codeForm) {\r\n      this.$refs[codeForm].validate((valid) => {\r\n        if (valid) {\r\n          this.isCodeTrue=true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      return this.isCodeTrue\r\n    },\r\n    resetForm(codeForm) {\r\n      this.$refs[codeForm].resetFields();\r\n    },\r\n    // 生成随机数\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 切换验证码\r\n    refreshCode() {\r\n      this.identifyCode = ''\r\n      this.makeCode(this.identifyCodes, 4)\r\n    },\r\n    // 生成四位随机验证码\r\n    makeCode(o, l) {\r\n      for (let i = 0; i < l; i++) {\r\n        this.identifyCode += this.identifyCodes[this.randomNum(0, this.identifyCodes.length)]\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .randomised{\r\n    width: 60%;\r\n    margin: auto;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .identifyBox {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/util/AuthCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"randomised\",staticStyle:{\"user-select\":\"none\"}},[_c('el-form',{ref:\"codeForm\",staticClass:\"login-form\",attrs:{\"inline\":\"\",\"status-icon\":\"\",\"rules\":_vm.loginRules,\"model\":_vm.codeForm,\"label-width\":\"50px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticStyle:{\"margin-right\":\"0\"},attrs:{\"prop\":\"verifyCode\"}},[_c('el-input',{staticStyle:{\"user-select\":\"text\"},attrs:{\"size\":\"small\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.codeForm.verifyCode),callback:function ($$v) {_vm.$set(_vm.codeForm, \"verifyCode\", $$v)},expression:\"codeForm.verifyCode\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('div',{staticClass:\"identifyBox\"},[_c('div',{on:{\"click\":_vm.refreshCode}},[_c('s-identify',{attrs:{\"identifyCode\":_vm.identifyCode}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.refreshCode}},[_vm._v(\"看不清，换一张\")])],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54bfd940\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/util/AuthCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54bfd940\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AuthCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AuthCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AuthCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54bfd940\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AuthCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/util/AuthCode.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}